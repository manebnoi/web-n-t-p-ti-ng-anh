<!DOCTYPE html>
<html lang="en" class="notranslate" translate="no">
<head>
    <meta charset="UTF-8">
    <meta name="google" content="notranslate">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Master - THCS Edition</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #0f0c29;
            --primary: #00d2ff;
            --secondary: #928dab;
            --accent: #3a7bd5;
            --neon-purple: #bc13fe;
            --glass: rgba(255, 255, 255, 0.05);
        }

        * {
            box-sizing: border-box;
            user-select: none; /* NgƒÉn b√¥i ƒëen ƒë·ªÉ copy */
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: white;
            height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Tech Background Elements */
        .bg-particles {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(68, 11, 168, 0.4) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(0, 210, 255, 0.2) 0%, transparent 50%);
            z-index: -1;
        }

        .container {
            width: 90%;
            max-width: 900px;
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 0 20px rgba(188, 19, 254, 0.3);
            position: relative;
            text-align: center;
        }

        h1, h2, h3 {
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 0 0 10px var(--primary);
            margin-bottom: 20px;
        }

        /* Buttons */
        .btn {
            background: linear-gradient(90deg, var(--accent), var(--neon-purple));
            border: none;
            padding: 12px 30px;
            color: white;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1rem;
            cursor: pointer;
            border-radius: 50px;
            transition: 0.3s;
            box-shadow: 0 0 15px var(--accent);
            margin: 10px;
        }

        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 25px var(--neon-purple);
        }

        .btn-secondary {
            background: rgba(255,255,255,0.1);
            box-shadow: none;
            border: 1px solid var(--primary);
        }

        /* Screens */
        .screen {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Inputs */
        input {
            background: rgba(0,0,0,0.5);
            border: 1px solid var(--primary);
            color: white;
            padding: 15px;
            border-radius: 10px;
            width: 80%;
            margin: 10px 0;
            font-size: 1.1rem;
            outline: none;
        }
        
        input:focus {
            box-shadow: 0 0 10px var(--primary);
        }

        /* HUD */
        .hud {
            display: flex;
            justify-content: space-between;
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 20px;
            font-family: 'Orbitron', sans-serif;
            border-bottom: 2px solid var(--primary);
        }

        .timer { color: #ff4757; }
        .score { color: #2ed573; }
        .gems { color: #ffa502; }

        /* Question Area */
        .question-box {
            background: rgba(0,0,0,0.4);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            font-size: 1.3rem;
            line-height: 1.6;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .option-card {
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--secondary);
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 60px;
        }

        .option-card:hover {
            background: rgba(0, 210, 255, 0.2);
            border-color: var(--primary);
        }

        /* Scramble Words */
        .word-bank, .sentence-drop {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            min-height: 50px;
            margin: 10px 0;
            padding: 10px;
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
        }
        
        .draggable-word {
            background: var(--accent);
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }

        /* Leaderboard */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            padding: 10px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        th { color: var(--primary); }

        /* Controls */
        .music-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: 1px solid white;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            color: white;
            cursor: pointer;
            z-index: 100;
        }

        /* Feedback */
        .feedback {
            font-size: 1.2rem;
            height: 30px;
            margin-top: 10px;
            font-weight: bold;
        }
        .correct { color: #2ed573; text-shadow: 0 0 10px #2ed573; }
        .wrong { color: #ff4757; text-shadow: 0 0 10px #ff4757; }

    </style>
</head>
<body>

    <div class="bg-particles"></div>
    <button class="music-toggle" onclick="toggleMusic()">üéµ</button>
    <audio id="bgMusic" loop>
        <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_c8c8a73467.mp3?filename=cyberpunk-2099-10510.mp3" type="audio/mpeg">
    </audio>

    <div class="container">
        
        <div id="login-screen" class="screen active">
            <h1>English Master</h1>
            <p>√în T·∫≠p Ti·∫øng Anh C·∫•p THCS (L·ªõp 6-9)</p>
            <input type="text" id="username" placeholder="Nh·∫≠p H·ªç v√† T√™n" autocomplete="off">
            <input type="text" id="userclass" placeholder="Nh·∫≠p L·ªõp (V√≠ d·ª•: 8A)" autocomplete="off">
            <br>
            <button class="btn" onclick="checkLogin()">START MISSION</button>
            <br>
            <button class="btn btn-secondary" onclick="showLeaderboard()">B·∫£ng X·∫øp H·∫°ng</button>
        </div>

        <div id="game-screen" class="screen">
            <div class="hud">
                <div class="timer">‚è∞ <span id="time-display">25:00</span></div>
                <div>Level: <span id="level-display">1</span> | Q: <span id="q-num">1</span>/20</div>
                <div class="score">‚≠ê <span id="score-display">0</span></div>
                <div class="gems">üíé <span id="gem-display">0</span></div>
            </div>

            <div class="question-container">
                <h3 id="question-type-title" style="color:var(--secondary)">Type</h3>
                <div class="question-box" id="question-text">
                    Loading question...
                </div>

                <div id="interaction-area"></div>
                
                <div class="feedback" id="feedback-msg"></div>
            </div>
        </div>

        <div id="result-screen" class="screen">
            <h2>Mission Complete!</h2>
            <p>ƒêi·ªÉm s·ªë: <span id="final-score">0</span></p>
            <p>ƒê√° qu√Ω nh·∫≠n ƒë∆∞·ª£c: <span id="final-gems">0</span> üíé</p>
            <div id="reward-msg" style="color: var(--primary); margin: 20px 0; font-weight: bold;"></div>
            <button class="btn" onclick="nextLevel()">C·∫•p ƒë·ªô ti·∫øp theo</button>
            <button class="btn btn-secondary" onclick="resetGame()">V·ªÅ trang ch·ªß</button>
        </div>

        <div id="leaderboard-screen" class="screen">
            <h2>Hall of Fame</h2>
            <table id="leaderboard-table">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Name</th>
                        <th>Class</th>
                        <th>Score</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            <button class="btn" onclick="showLogin()">Quay l·∫°i</button>
        </div>

    </div>

    <script>
        // --- DATABASE C√ÇU H·ªéI (M·∫´u kho·∫£ng 30 c√¢u, b·∫°n c√≥ th·ªÉ copy paste th√™m ƒë·ªÉ ƒë·ªß 250 c√¢u) ---
        // Types: 'mcq' (Tr·∫Øc nghi·ªám), 'scramble' (Gh√©p t·ª´), 'error' (T√¨m l·ªói), 'rewrite' (S·ª≠a c√¢u)
        // Level: 1 (D·ªÖ), 2 (Trung b√¨nh), 3 (Kh√≥) - ·ªû ƒë√¢y ta g·ªôp chung pool ƒë·ªÉ random
        
                questionsBank = [
    // --- PH·∫¶N 1: TH√å (TENSES) - TR·∫ÆC NGHI·ªÜM ---
    { type: 'mcq', q: "She _______ her homework at the moment.", options: ["is doing", "does", "did", "has done"], a: "is doing" },
    { type: 'mcq', q: "We _______ this film three times already.", options: ["saw", "see", "have seen", "are seeing"], a: "have seen" },
    { type: 'mcq', q: "When I arrived, they _______ dinner.", options: ["were having", "have", "had", "are having"], a: "were having" },
    { type: 'mcq', q: "By 2025, she _______ from university.", options: ["will graduate", "graduates", "will have graduated", "is graduating"], a: "will have graduated" },
    { type: 'mcq', q: "He usually _______ to school by bike.", options: ["go", "goes", "went", "is going"], a: "goes" },
    { type: 'mcq', q: "I _______ English for five years.", options: ["learn", "learned", "have learned", "am learning"], a: "have learned" },
    { type: 'mcq', q: "She _______ TV when I called her.", options: ["watched", "was watching", "has watched", "watches"], a: "was watching" },
    { type: 'mcq', q: "They _______ here since 2010.", options: ["live", "lived", "have lived", "are living"], a: "have lived" },
    { type: 'mcq', q: "My father _______ home late last night.", options: ["comes", "came", "has come", "is coming"], a: "came" },
    { type: 'mcq', q: "Look! It _______ heavily.", options: ["rains", "rained", "is raining", "has rained"], a: "is raining" },
    { type: 'mcq', q: "She _______ already _______ dinner.", options: ["has / cooked", "is / cooking", "was / cooking", "will / cook"], a: "has / cooked" },
    { type: 'mcq', q: "We _______ to the beach tomorrow.", options: ["go", "went", "will go", "have gone"], a: "will go" },
    { type: 'mcq', q: "He _______ a book when the phone rang.", options: ["reads", "read", "was reading", "has read"], a: "was reading" },
    { type: 'mcq', q: "She _______ never _______ sushi before.", options: ["has / eaten", "is / eating", "was / eating", "will / eat"], a: "has / eaten" },
    { type: 'mcq', q: "By the time we arrived, the train _______.", options: ["leaves", "left", "had left", "has left"], a: "had left" },
    { type: 'mcq', q: "I _______ him since last year.", options: ["don't see", "didn't see", "haven't seen", "won't see"], a: "haven't seen" },
    { type: 'mcq', q: "She _______ to music every evening.", options: ["listen", "listens", "listened", "is listening"], a: "listens" },
    { type: 'mcq', q: "They _______ football when it started to rain.", options: ["play", "played", "were playing", "have played"], a: "were playing" },
    { type: 'mcq', q: "He _______ his keys, so he can't open the door.", options: ["loses", "lost", "has lost", "is losing"], a: "has lost" },
    { type: 'mcq', q: "She _______ as a teacher for ten years.", options: ["works", "worked", "has worked", "is working"], a: "has worked" },
    { type: 'mcq', q: "I _______ my homework before dinner yesterday.", options: ["finish", "finished", "had finished", "have finished"], a: "had finished" },
    { type: 'mcq', q: "He _______ a car last month.", options: ["buys", "bought", "has bought", "is buying"], a: "bought" },
    { type: 'mcq', q: "She _______ for the bus when I saw her.", options: ["waits", "waited", "was waiting", "has waited"], a: "was waiting" },
    { type: 'mcq', q: "We _______ English every Monday.", options: ["study", "studied", "have studied", "are studying"], a: "study" },
    { type: 'mcq', q: "They _______ in this house since they got married.", options: ["live", "lived", "have lived", "are living"], a: "have lived" },
    { type: 'mcq', q: "She _______ tired because she worked late.", options: ["is", "was", "has been", "will be"], a: "was" },
    { type: 'mcq', q: "He _______ his homework yet.", options: ["doesn't finish", "didn't finish", "hasn't finished", "won't finish"], a: "hasn't finished" },
    { type: 'mcq', q: "When we got there, the movie _______.", options: ["starts", "started", "had started", "has started"], a: "had started" },
    { type: 'mcq', q: "She _______ to Paris twice.", options: ["goes", "went", "has gone", "is going"], a: "has gone" },
    { type: 'mcq', q: "I _______ him tomorrow.", options: ["meet", "met", "will meet", "have met"], a: "will meet" },
    { type: 'mcq', q: "He _______ breakfast when I arrived.", options: ["has", "had", "was having", "is having"], a: "was having" },
    { type: 'mcq', q: "She _______ a letter at the moment.", options: ["writes", "wrote", "is writing", "has written"], a: "is writing" },
    { type: 'mcq', q: "They _______ the house before 2010.", options: ["build", "built", "had built", "have built"], a: "had built" },
    { type: 'mcq', q: "I _______ my friend every weekend.", options: ["visit", "visited", "have visited", "am visiting"], a: "visit" },
    { type: 'mcq', q: "She _______ asleep when the phone rang.", options: ["falls", "fell", "was falling", "has fallen"], a: "was falling" },
    { type: 'mcq', q: "He _______ English very well.", options: ["speak", "speaks", "spoke", "has spoken"], a: "speaks" },
    { type: 'mcq', q: "We _______ lunch when she came.", options: ["have", "had", "were having", "are having"], a: "were having" },
    { type: 'mcq', q: "She _______ her keys an hour ago.", options: ["loses", "lost", "has lost", "is losing"], a: "lost" },
    { type: 'mcq', q: "I _______ never _______ such a beautiful place.", options: ["have / seen", "am / seeing", "was / seeing", "will / see"], a: "have / seen" },
    { type: 'mcq', q: "They _______ dinner before we arrived.", options: ["finish", "finished", "had finished", "have finished"], a: "had finished" },
    { type: 'mcq', q: "She usually _______ up at 6 a.m.", options: ["get", "gets", "got", "is getting"], a: "gets" },
    { type: 'mcq', q: "He _______ TV right now.", options: ["watches", "watched", "is watching", "has watched"], a: "is watching" },
    { type: 'mcq', q: "They _______ to Hanoi last summer.", options: ["go", "went", "have gone", "are going"], a: "went" },
    { type: 'mcq', q: "I _______ my homework already.", options: ["do", "did", "have done", "am doing"], a: "have done" },
    { type: 'mcq', q: "She _______ when the teacher entered the room.", options: ["talks", "talked", "was talking", "has talked"], a: "was talking" },
    { type: 'mcq', q: "We _______ English since primary school.", options: ["learn", "learned", "have learned", "are learning"], a: "have learned" },
    { type: 'mcq', q: "He _______ the door before he left.", options: ["locks", "locked", "had locked", "has locked"], a: "had locked" },
    { type: 'mcq', q: "She _______ very happy yesterday.", options: ["is", "was", "has been", "will be"], a: "was" },
    { type: 'mcq', q: "I _______ to music while doing homework.", options: ["listen", "listened", "am listening", "have listened"], a: "am listening" },
    { type: 'mcq', q: "They _______ in this city for a long time.", options: ["live", "lived", "have lived", "are living"], a: "have lived" },

    // --- PH·∫¶N 2: C√ÇU B·ªä ƒê·ªòNG (PASSIVE VOICE) - GH√âP T·ª™ ---
    { type: 'scramble', q: "Rewrite: They clean the classroom every day.", a: "The classroom is cleaned every day" },
    { type: 'scramble', q: "Rewrite: She wrote this letter yesterday.", a: "This letter was written yesterday" },
    { type: 'scramble', q: "Rewrite: They will build a new hospital.", a: "A new hospital will be built" },
    { type: 'scramble', q: "Rewrite: People speak English all over the world.", a: "English is spoken all over the world" },
    { type: 'scramble', q: "Rewrite: Someone has stolen my phone.", a: "My phone has been stolen" },
    { type: 'scramble', q: "Rewrite: They are repairing the road now.", a: "The road is being repaired now" },
    { type: 'scramble', q: "Rewrite: He finished his homework last night.", a: "His homework was finished last night" },
    { type: 'scramble', q: "Rewrite: They have built this bridge recently.", a: "This bridge has been built recently" },
    { type: 'scramble', q: "Rewrite: She will invite him to the party.", a: "He will be invited to the party" },
    { type: 'scramble', q: "Rewrite: They don't allow students to use phones.", a: "Students are not allowed to use phones" },

    // --- PH·∫¶N 3: C√ÇU B·ªä ƒê·ªòNG - TR·∫ÆC NGHI·ªÜM ---
    { type: 'mcq', q: "The house _______ last year.", options: ["build", "built", "was built", "is built"], a: "was built" },
    { type: 'mcq', q: "English _______ in many countries.", options: ["speaks", "is spoken", "spoke", "has spoken"], a: "is spoken" },
    { type: 'mcq', q: "The homework _______ by the students.", options: ["do", "did", "is done", "has done"], a: "is done" },
    { type: 'mcq', q: "The letter _______ tomorrow.", options: ["will send", "will be sent", "is sent", "has sent"], a: "will be sent" },
    { type: 'mcq', q: "The room _______ every day.", options: ["cleans", "is cleaned", "cleaned", "has cleaned"], a: "is cleaned" },
    { type: 'mcq', q: "The car _______ repaired at the moment.", options: ["is", "is being", "has been", "was"], a: "is being" },
    { type: 'mcq', q: "My bike _______ stolen last night.", options: ["is", "was", "has", "has been"], a: "was" },
    { type: 'mcq', q: "This book _______ written by a famous author.", options: ["is", "was", "has", "is being"], a: "was" },
    { type: 'mcq', q: "The test _______ next Monday.", options: ["will hold", "will be held", "is held", "has held"], a: "will be held" },
    { type: 'mcq', q: "The cake _______ by my mother.", options: ["makes", "made", "is made", "has made"], a: "is made" },

    // --- PH·∫¶N 4: T√åM L·ªñI SAI (ERROR IDENTIFICATION) ---
    { type: 'error', q: "The homework (A)are (B)done (C)by (D)students.", parts: ["are", "done", "by", "students"], a: "are", full: "The homework <u>are</u> done by students." },
    { type: 'error', q: "The letter (A)was (B)send (C)yesterday.", parts: ["was", "send", "yesterday"], a: "send", full: "The letter was <u>send</u> yesterday." },
    { type: 'error', q: "English (A)is (B)speak (C)here.", parts: ["is", "speak", "here"], a: "speak", full: "English is <u>speak</u> here." },
    { type: 'error', q: "The house (A)is (B)build (C)last year.", parts: ["is", "build", "last year"], a: "build", full: "The house is <u>build</u> last year." },
    { type: 'error', q: "The book (A)were (B)written (C)by (D)him.", parts: ["were", "written", "by", "him"], a: "were", full: "The book <u>were</u> written by him." },
    { type: 'error', q: "The room (A)is (B)clean (C)every day.", parts: ["is", "clean", "every day"], a: "clean", full: "The room is <u>clean</u> every day." },
    { type: 'error', q: "The car (A)has (B)repair (C)recently.", parts: ["has", "repair", "recently"], a: "repair", full: "The car has <u>repair</u> recently." },
    { type: 'error', q: "This song (A)is (B)sing (C)by (D)her.", parts: ["is", "sing", "by", "her"], a: "sing", full: "This song is <u>sing</u> by her." },
    { type: 'error', q: "The windows (A)are (B)break (C)by (D)the wind.", parts: ["are", "break", "by", "the wind"], a: "break", full: "The windows are <u>break</u> by the wind." },
    { type: 'error', q: "The problem (A)was (B)solve (C)quickly.", parts: ["was", "solve", "quickly"], a: "solve", full: "The problem was <u>solve</u> quickly." },

    // --- PH·∫¶N 5: B·ªä ƒê·ªòNG - GH√âP T·ª™ (Ti·∫øp) ---
    { type: 'scramble', q: "Rewrite: Someone is painting the house.", a: "The house is being painted" },
    { type: 'scramble', q: "Rewrite: They had finished the work before noon.", a: "The work had been finished before noon" },
    { type: 'scramble', q: "Rewrite: She can solve this problem.", a: "This problem can be solved" },
    { type: 'scramble', q: "Rewrite: They must obey the rules.", a: "The rules must be obeyed" },
    { type: 'scramble', q: "Rewrite: Nobody has cleaned the room yet.", a: "The room hasn't been cleaned yet" },
    { type: 'scramble', q: "Rewrite: They are going to open a new shop.", a: "A new shop is going to be opened" },
    { type: 'scramble', q: "Rewrite: People believe that he is honest.", a: "It is believed that he is honest" },
    { type: 'scramble', q: "Rewrite: They didn't invite her to the meeting.", a: "She wasn't invited to the meeting" },
    { type: 'scramble', q: "Rewrite: Someone will announce the results tomorrow.", a: "The results will be announced tomorrow" },
    { type: 'scramble', q: "Rewrite: They have just repaired the computer.", a: "The computer has just been repaired" },

    // --- PH·∫¶N 6: B·ªä ƒê·ªòNG - TR·∫ÆC NGHI·ªÜM (Ti·∫øp) ---
    { type: 'mcq', q: "The classroom _______ cleaned after school.", options: ["is", "is being", "was", "has"], a: "is" },
    { type: 'mcq', q: "The dishes _______ washed by my sister.", options: ["are", "is", "were", "be"], a: "are" },
    { type: 'mcq', q: "This song _______ often played on the radio.", options: ["is", "was", "has", "will"], a: "is" },
    { type: 'mcq', q: "The report _______ finished tomorrow.", options: ["is", "will be", "was", "has been"], a: "will be" },
    { type: 'mcq', q: "The match _______ postponed because of rain.", options: ["is", "was", "has", "will"], a: "was" },
    { type: 'mcq', q: "My homework _______ checked by the teacher.", options: ["is", "are", "was", "be"], a: "is" },
    { type: 'mcq', q: "The rules _______ explained clearly.", options: ["is", "are", "was", "be"], a: "are" },
    { type: 'mcq', q: "The window _______ broken last night.", options: ["is", "was", "has", "is being"], a: "was" },
    { type: 'mcq', q: "The project _______ completed on time.", options: ["is", "was", "has been", "will"], a: "has been" },
    { type: 'mcq', q: "The cake _______ eaten already.", options: ["is", "was", "has been", "will be"], a: "has been" },

    // --- PH·∫¶N 7: C√ÇU ƒêI·ªÄU KI·ªÜN & C√ÇU ∆Ø·ªöC - TR·∫ÆC NGHI·ªÜM ---
    { type: 'mcq', q: "If I _______ you, I wouldn't do that.", options: ["am", "was", "were", "be"], a: "were" },
    { type: 'mcq', q: "If it rains, we _______ at home.", options: ["stay", "will stay", "stayed", "would stay"], a: "will stay" },
    { type: 'mcq', q: "If she _______ harder, she would pass the exam.", options: ["studies", "studied", "study", "will study"], a: "studied" },
    { type: 'mcq', q: "If we had more time, we _______ the museum.", options: ["visit", "will visit", "would visit", "visited"], a: "would visit" },
    { type: 'mcq', q: "If he _______ early, he won't miss the bus.", options: ["leave", "leaves", "left", "would leave"], a: "leaves" },
    { type: 'mcq', q: "If I had known about the test, I _______ harder.", options: ["study", "will study", "would study", "would have studied"], a: "would have studied" },
    { type: 'mcq', q: "You will succeed if you _______ your best.", options: ["try", "tried", "will try", "would try"], a: "try" },
    { type: 'mcq', q: "If she were taller, she _______ a model.", options: ["becomes", "will become", "would become", "became"], a: "would become" },
    { type: 'mcq', q: "If they had left earlier, they _______ late.", options: ["won't be", "wouldn't be", "aren't", "weren't"], a: "wouldn't be" },
    { type: 'mcq', q: "If it _______ tomorrow, we will cancel the trip.", options: ["rain", "rains", "rained", "will rain"], a: "rains" },

    // --- PH·∫¶N 8: C√ÇU ∆Ø·ªöC (WISH) - GH√âP T·ª™ ---
    { type: 'scramble', q: "Rewrite: I don't have a bike. (I wish...)", a: "I wish I had a bike" },
    { type: 'scramble', q: "Rewrite: She can't swim. (She wishes...)", a: "She wishes she could swim" },
    { type: 'scramble', q: "Rewrite: I am not rich. (I wish...)", a: "I wish I were rich" },
    { type: 'scramble', q: "Rewrite: He didn't study hard. (He wishes...)", a: "He wishes he had studied hard" },
    { type: 'scramble', q: "Rewrite: It is raining now. (I wish...)", a: "I wish it were not raining" },
    { type: 'scramble', q: "Rewrite: I can't speak English well. (I wish...)", a: "I wish I could speak English well" },
    { type: 'scramble', q: "Rewrite: She was late for school. (She wishes...)", a: "She wishes she hadn't been late for school" },
    { type: 'scramble', q: "Rewrite: We don't live near the school. (We wish...)", a: "We wish we lived near the school" },
    { type: 'scramble', q: "Rewrite: He didn't listen to my advice. (He wishes...)", a: "He wishes he had listened to my advice" },
    { type: 'scramble', q: "Rewrite: I have too much homework. (I wish...)", a: "I wish I didn't have so much homework" },

    // --- PH·∫¶N 9: C√ÇU ƒêI·ªÄU KI·ªÜN (Ti·∫øp) ---
    { type: 'mcq', q: "If she _______ more careful, she wouldn't make mistakes.", options: ["is", "was", "were", "had been"], a: "were" },
    { type: 'mcq', q: "If you heat ice, it _______.", options: ["melts", "melted", "will melt", "would melt"], a: "melts" },
    { type: 'mcq', q: "If I see him, I _______ him the news.", options: ["tell", "told", "will tell", "would tell"], a: "will tell" },
    { type: 'mcq', q: "If we had known the way, we _______ lost.", options: ["won't get", "wouldn't get", "wouldn't have got", "did get"], a: "wouldn't have got" },
    { type: 'mcq', q: "If he weren't busy, he _______ us.", options: ["help", "helps", "would help", "will help"], a: "would help" },

    // --- PH·∫¶N 10: S·∫ÆP X·∫æP C√ÇU ƒêI·ªÄU KI·ªÜN (ƒê√£ s·ª≠a t·ª´ 'rain' th√†nh 'rains', th√™m 'have' v√†o c√¢u 5) ---
    { type: 'scramble', q: "Arrange: If / rains / it / will / stay / we / home", a: "If it rains we will stay home" },
    { type: 'scramble', q: "Arrange: had / If / I / time / enough / I / would / travel", a: "If I had enough time I would travel" },
    { type: 'scramble', q: "Arrange: would / you / what / do / were / rich / if / you", a: "What would you do if you were rich" },
    { type: 'scramble', q: "Arrange: wish / I / speak / could / English / well", a: "I wish I could speak English well" },
    { type: 'scramble', q: "Arrange: had / studied / he / passed / if / would / have / he", a: "If he had studied he would have passed" },

    // --- PH·∫¶N 11: M·ªÜNH ƒê·ªÄ QUAN H·ªÜ (RELATIVE CLAUSES) ---
    { type: 'mcq', q: "If she _______ earlier, she wouldn't be late now.", options: ["left", "had left", "leaves", "would leave"], a: "had left" },
    { type: 'mcq', q: "I wish I _______ taller.", options: ["am", "was", "were", "be"], a: "were" },
    { type: 'mcq', q: "If we save enough money, we _______ a new house.", options: ["buy", "will buy", "bought", "would buy"], a: "will buy" },
    { type: 'mcq', q: "He wishes he _______ so much time playing games.", options: ["doesn't waste", "didn't waste", "hasn't wasted", "won't waste"], a: "didn't waste" },
    { type: 'mcq', q: "If I were you, I _______ that job.", options: ["accept", "will accept", "would accept", "accepted"], a: "would accept" },

    // --- PH·∫¶N 12: C√ÇU ∆Ø·ªöC - GH√âP T·ª™ (Ti·∫øp) ---
    { type: 'scramble', q: "Rewrite: I didn't know her phone number. (I wish...)", a: "I wish I had known her phone number" },
    { type: 'scramble', q: "Rewrite: He can't come today. (He wishes...)", a: "He wishes he could come today" },
    { type: 'scramble', q: "Rewrite: They live far from school. (They wish...)", a: "They wish they lived near school" },
    { type: 'scramble', q: "Rewrite: She failed the exam. (She wishes...)", a: "She wishes she had passed the exam" },
    { type: 'scramble', q: "Rewrite: I am busy now. (I wish...)", a: "I wish I weren't busy now" },

    // --- PH·∫¶N 13: M·ªÜNH ƒê·ªÄ QUAN H·ªÜ - TR·∫ÆC NGHI·ªÜM ---
    { type: 'mcq', q: "If it stops raining, we _______ out.", options: ["go", "will go", "went", "would go"], a: "will go" },
    { type: 'mcq', q: "If I had a map, I _______ lost.", options: ["won't get", "wouldn't get", "didn't get", "haven't got"], a: "wouldn't get" },
    { type: 'mcq', q: "She wishes she _______ more friends.", options: ["has", "had", "will have", "would have"], a: "had" },
    { type: 'mcq', q: "If he had listened to the teacher, he _______ better.", options: ["does", "did", "would do", "would have done"], a: "would have done" },
    { type: 'mcq', q: "If you study hard, you _______ the exam.", options: ["pass", "passed", "will pass", "would pass"], a: "will pass" },

    // --- PH·∫¶N 14: S·∫ÆP X·∫æP T·ª™ ---
    { type: 'scramble', q: "Arrange: wish / I / not / be / late / today", a: "I wish I were not late today" },
    { type: 'scramble', q: "Arrange: would / have / we / gone / if / known / had / we", a: "If we had known we would have gone" },
    { type: 'scramble', q: "Arrange: if / were / what / you / do / free / you", a: "What would you do if you were free" },
    { type: 'scramble', q: "Arrange: wish / she / not / forget / my / birthday", a: "She wishes she didn't forget my birthday" },
    { type: 'scramble', q: "Arrange: had / saved / if / money / I / bought / would / I / it", a: "If I had saved money I would have bought it" },

    // --- PH·∫¶N 15: M·ªÜNH ƒê·ªÄ QUAN H·ªÜ - TR·∫ÆC NGHI·ªÜM (Ti·∫øp) ---
    { type: 'mcq', q: "The boy _______ is standing over there is my brother.", options: ["who", "which", "whom", "whose"], a: "who" },
    { type: 'mcq', q: "The book _______ I bought yesterday is very interesting.", options: ["who", "which", "whose", "where"], a: "which" },
    { type: 'mcq', q: "The girl _______ mother is a teacher lives next door.", options: ["who", "which", "whose", "whom"], a: "whose" },
    { type: 'mcq', q: "This is the place _______ we first met.", options: ["which", "that", "where", "who"], a: "where" },
    { type: 'mcq', q: "The man _______ you met yesterday is my uncle.", options: ["who", "which", "whose", "where"], a: "who" },
    { type: 'mcq', q: "The students _______ study hard will pass the exam.", options: ["which", "who", "whose", "where"], a: "who" },
    { type: 'mcq', q: "The house _______ was built last year is very large.", options: ["who", "which", "whose", "where"], a: "which" },
    { type: 'mcq', q: "That is the girl _______ brother won the prize.", options: ["who", "which", "whose", "whom"], a: "whose" },
    { type: 'mcq', q: "The movie _______ we watched last night was boring.", options: ["who", "which", "where", "whose"], a: "which" },
    { type: 'mcq', q: "The teacher _______ teaches us English is very kind.", options: ["who", "which", "where", "whose"], a: "who" },

    // --- PH·∫¶N 16: T√åM L·ªñI SAI (Ti·∫øp) ---
    { type: 'error', q: "The man (A)which (B)lives (C)next door (D)is friendly.", parts: ["which", "lives", "next door", "is"], a: "which", full: "The man <u>which</u> lives next door is friendly." },
    { type: 'error', q: "The book (A)who (B)I (C)borrowed (D)is interesting.", parts: ["who", "I", "borrowed", "is"], a: "who", full: "The book <u>who</u> I borrowed is interesting." },
    { type: 'error', q: "The girl (A)whose (B)she (C)is (D)singing is my friend.", parts: ["whose", "she", "is", "singing"], a: "she", full: "The girl whose <u>she</u> is singing is my friend." },
    { type: 'error', q: "The place (A)which (B)we (C)met (D)there is beautiful.", parts: ["which", "we", "met", "there"], a: "there", full: "The place which we met <u>there</u> is beautiful." },
    { type: 'error', q: "The student (A)who (B)study (C)hard (D)will succeed.", parts: ["who", "study", "hard", "will"], a: "study", full: "The student who <u>study</u> hard will succeed." },

    // --- PH·∫¶N 17: C√ÇU T∆Ø·ªúNG THU·∫¨T (REPORTED SPEECH) - GH√âP T·ª™ ---
    { type: 'scramble', q: "Rewrite: 'I am a student,' said Nam.", a: "Nam said he was a student" },
    { type: 'scramble', q: "Rewrite: 'I will help you,' she said.", a: "She said she would help me" },
    { type: 'scramble', q: "Rewrite: 'I am doing my homework,' he said.", a: "He said he was doing his homework" },
    { type: 'scramble', q: "Rewrite: 'We have finished the work,' they said.", a: "They said they had finished the work" },
    { type: 'scramble', q: "Rewrite: 'I can't swim,' she said.", a: "She said she couldn't swim" },
    { type: 'scramble', q: "Rewrite: 'I went to Hanoi last year,' he said.", a: "He said he had gone to Hanoi the year before" },
    { type: 'scramble', q: "Rewrite: 'I am tired now,' she said.", a: "She said she was tired then" },
    { type: 'scramble', q: "Rewrite: 'We are studying English,' they said.", a: "They said they were studying English" },
    { type: 'scramble', q: "Rewrite: 'I will call you tomorrow,' he said.", a: "He said he would call me the next day" },
    { type: 'scramble', q: "Rewrite: 'I have lost my keys,' she said.", a: "She said she had lost her keys" },

    // --- PH·∫¶N 18: T∆Ø·ªúNG THU·∫¨T - TR·∫ÆC NGHI·ªÜM ---
    { type: 'mcq', q: "He said that he _______ busy then.", options: ["is", "was", "will be", "has been"], a: "was" },
    { type: 'mcq', q: "She told me that she _______ the test already.", options: ["finishes", "finished", "has finished", "had finished"], a: "had finished" },
    { type: 'mcq', q: "They said they _______ to the party the next day.", options: ["go", "went", "will go", "would go"], a: "would go" },
    { type: 'mcq', q: "He told me that he _______ English very well.", options: ["speaks", "spoke", "spoken", "speaking"], a: "spoke" },
    { type: 'mcq', q: "She said that she _______ busy at that time.", options: ["is", "was", "has been", "will be"], a: "was" },

    // --- PH·∫¶N 19: S·∫ÆP X·∫æP C√ÇU (REPORTED/RELATIVE) ---
    { type: 'scramble', q: "Arrange: boy / who / the / is / playing / my / brother / football", a: "The boy who is playing football is my brother" },
    { type: 'scramble', q: "Arrange: said / he / tired / was / that / he", a: "He said that he was tired" },
    { type: 'scramble', q: "Arrange: girl / whose / doctor / is / mother / the / my / friend / is", a: "The girl whose mother is a doctor is my friend" },
    { type: 'scramble', q: "Arrange: she / said / would / she / come / later / that", a: "She said that she would come later" },
    { type: 'scramble', q: "Arrange: the / which / book / reading / am / I / interesting / is", a: "The book which I am reading is interesting" },

    // --- PH·∫¶N 20: TR·∫ÆC NGHI·ªÜM H·ªñN H·ª¢P ---
    { type: 'mcq', q: "The man _______ car was stolen called the police.", options: ["who", "which", "whose", "where"], a: "whose" },
    { type: 'mcq', q: "This is the school _______ I studied last year.", options: ["who", "which", "where", "whose"], a: "where" },
    { type: 'mcq', q: "She said that she _______ her homework.", options: ["does", "did", "has done", "had done"], a: "had done" },
    { type: 'mcq', q: "The people _______ live here are very friendly.", options: ["who", "which", "whose", "where"], a: "who" },
    { type: 'mcq', q: "He told me that he _______ me the day before.", options: ["meets", "met", "has met", "had met"], a: "had met" },

    // --- PH·∫¶N 21: T∆Ø·ªúNG THU·∫¨T - GH√âP T·ª™ ---
    { type: 'scramble', q: "Rewrite: 'I am going to the library,' she said.", a: "She said she was going to the library" },
    { type: 'scramble', q: "Rewrite: 'We will finish it soon,' they said.", a: "They said they would finish it soon" },
    { type: 'scramble', q: "Rewrite: 'I don't like math,' he said.", a: "He said he didn't like math" },
    { type: 'scramble', q: "Rewrite: 'I am watching TV now,' Nam said.", a: "Nam said he was watching TV then" },
    { type: 'scramble', q: "Rewrite: 'I have lived here for years,' she said.", a: "She said she had lived there for years" },

    // --- PH·∫¶N 22: T√åM L·ªñI SAI (Cu·ªëi) ---
    { type: 'error', q: "The boy (A)who (B)she (C)likes (D)is very kind.", parts: ["who", "she", "likes", "is"], a: "she", full: "The boy who <u>she</u> likes is very kind." },
    { type: 'error', q: "He said (A)that (B)he (C)will (D)come later.", parts: ["that", "he", "will", "come"], a: "will", full: "He said that he <u>will</u> come later." },
    { type: 'error', q: "The place (A)where (B)we (C)met (D)there was crowded.", parts: ["where", "we", "met", "there"], a: "there", full: "The place where we met <u>there</u> was crowded." },
    { type: 'error', q: "She said she (A)is (B)happy (C)then.", parts: ["she", "is", "happy", "then"], a: "is", full: "She said she <u>is</u> happy then." },
    { type: 'error', q: "The student (A)which (B)won (C)the prize (D)is my friend.", parts: ["which", "won", "the prize", "is"], a: "which", full: "The student <u>which</u> won the prize is my friend." },

    // --- PART: COMPARISONS (SO S√ÅNH) - MCQ ---
    { type: 'mcq', q: "This building is ______ than that one.", options: ["tall", "taller", "tallest", "more tall"], a: "taller" },
    { type: 'mcq', q: "She is the ______ student in my class.", options: ["smart", "smarter", "smartest", "more smart"], a: "smartest" },
    { type: 'mcq', q: "Your car is ______ expensive than mine.", options: ["more", "most", "as", "much"], a: "more" },
    { type: 'mcq', q: "He runs ______ than his brother.", options: ["fast", "faster", "fastest", "more fast"], a: "faster" },
    { type: 'mcq', q: "This exercise is ______ difficult than the last one.", options: ["less", "little", "least", "fewer"], a: "less" },
    { type: 'mcq', q: "Today is the ______ day of the year.", options: ["hot", "hotter", "hottest", "most hot"], a: "hottest" },
    { type: 'mcq', q: "My English is getting ______.", options: ["good and good", "better and better", "best and best", "gooder and gooder"], a: "better and better" },
    { type: 'mcq', q: "The more you learn, the ______ you know.", options: ["much", "many", "more", "most"], a: "more" },
    { type: 'mcq', q: "He drives ______ than I do.", options: ["careful", "more careful", "carefully", "more carefully"], a: "more carefully" },
    { type: 'mcq', q: "No one in the class is ______ as Lan.", options: ["as intelligent", "more intelligent", "intelligent", "most intelligent"], a: "as intelligent" },
    { type: 'mcq', q: "Which is the ______ city in Vietnam?", options: ["large", "larger", "largest", "most large"], a: "largest" },
    { type: 'mcq', q: "This movie is ______ than the book.", options: ["boring", "more boring", "most boring", "as boring"], a: "more boring" },
    { type: 'mcq', q: "Living in the city is ______ than in the country.", options: ["noisy", "noisier", "noisiest", "more noisy"], a: "noisier" },
    { type: 'mcq', q: "Can you speak ______ , please?", options: ["slow", "slower", "slowliest", "more slowly"], a: "more slowly" },
    { type: 'mcq', q: "She is ______ than her sister.", options: ["pretty", "prettier", "prettiest", "more pretty"], a: "prettier" },

    // --- PART: PREPOSITIONS (GI·ªöI T·ª™) - MCQ ---
    { type: 'mcq', q: "He is interested ______ playing football.", options: ["on", "in", "at", "of"], a: "in" },
    { type: 'mcq', q: "She is good ______ Math.", options: ["on", "in", "at", "for"], a: "at" },
    { type: 'mcq', q: "I am afraid ______ snakes.", options: ["of", "in", "on", "about"], a: "of" },
    { type: 'mcq', q: "They are proud ______ their son.", options: ["of", "on", "at", "in"], a: "of" },
    { type: 'mcq', q: "The book is ______ the table.", options: ["in", "on", "at", "of"], a: "on" },
    { type: 'mcq', q: "We will meet ______ 7 p.m.", options: ["on", "in", "at", "for"], a: "at" },
    { type: 'mcq', q: "He was born ______ May.", options: ["on", "in", "at", "of"], a: "in" },
    { type: 'mcq', q: "I will see you ______ Monday.", options: ["on", "in", "at", "of"], a: "on" },
    { type: 'mcq', q: "Vietnam is famous ______ Pho.", options: ["for", "with", "about", "on"], a: "for" },
    { type: 'mcq', q: "This gift is ______ you.", options: ["to", "for", "at", "on"], a: "for" },
    { type: 'mcq', q: "She is listening ______ music.", options: ["with", "to", "for", "at"], a: "to" },
    { type: 'mcq', q: "The house is full ______ books.", options: ["of", "with", "in", "at"], a: "of" },
    { type: 'mcq', q: "Are you waiting ______ the bus?", options: ["to", "for", "at", "on"], a: "for" },
    { type: 'mcq', q: "He differs ______ his brother.", options: ["from", "with", "to", "in"], a: "from" },
    { type: 'mcq', q: "The school is ______ the post office and the park.", options: ["between", "among", "in", "on"], a: "between" },
    { type: 'mcq', q: "Look ______ the picture!", options: ["on", "at", "in", "to"], a: "at" },
    { type: 'mcq', q: "We go to school ______ bus.", options: ["by", "in", "on", "with"], a: "by" },
    { type: 'mcq', q: "She is absent ______ school today.", options: ["from", "at", "in", "on"], a: "from" },
    { type: 'mcq', q: "Thank you ______ helping me.", options: ["for", "to", "with", "about"], a: "for" },
    { type: 'mcq', q: "I agree ______ you.", options: ["with", "to", "for", "on"], a: "with" },

    // --- PART: TAG QUESTIONS (C√ÇU H·ªéI ƒêU√îI) - MCQ ---
    { type: 'mcq', q: "You are a student, ______?", options: ["are you", "aren't you", "do you", "don't you"], a: "aren't you" },
    { type: 'mcq', q: "She lives here, ______?", options: ["does she", "doesn't she", "is she", "isn't she"], a: "doesn't she" },
    { type: 'mcq', q: "He didn't go to school, ______?", options: ["did he", "didn't he", "does he", "was he"], a: "did he" },
    { type: 'mcq', q: "They will come, ______?", options: ["will they", "won't they", "do they", "don't they"], a: "won't they" },
    { type: 'mcq', q: "Let's go for a walk, ______?", options: ["shall we", "will we", "do we", "don't we"], a: "shall we" },
    { type: 'mcq', q: "He can swim, ______?", options: ["can he", "can't he", "does he", "don't he"], a: "can't he" },
    { type: 'mcq', q: "Nothing is impossible, ______?", options: ["is it", "isn't it", "are they", "aren't they"], a: "is it" },
    { type: 'mcq', q: "Open the door, ______?", options: ["will you", "do you", "don't you", "are you"], a: "will you" },
    { type: 'mcq', q: "Nobody called, ______?", options: ["did they", "didn't they", "do they", "don't they"], a: "did they" },
    { type: 'mcq', q: "I am right, ______?", options: ["am not I", "aren't I", "don't I", "am I"], a: "aren't I" },
    { type: 'mcq', q: "She has finished, ______?", options: ["has she", "hasn't she", "does she", "doesn't she"], a: "hasn't she" },
    { type: 'mcq', q: "You used to live here, ______?", options: ["did you", "didn't you", "use you", "usedn't you"], a: "didn't you" },
    { type: 'mcq', q: "This is your book, ______?", options: ["is it", "isn't it", "is this", "isn't this"], a: "isn't it" },
    { type: 'mcq', q: "Everything is okay, ______?", options: ["is it", "isn't it", "are they", "aren't they"], a: "isn't it" },
    { type: 'mcq', q: "Don't talk in class, ______?", options: ["do you", "will you", "don't you", "are you"], a: "will you" },

    // --- PART: GERUNDS & INFINITIVES (V-ING / TO V) - MCQ ---
    { type: 'mcq', q: "I enjoy ______ badminton.", options: ["play", "to play", "playing", "played"], a: "playing" },
    { type: 'mcq', q: "She wants ______ a teacher.", options: ["be", "to be", "being", "been"], a: "to be" },
    { type: 'mcq', q: "He decided ______ the car.", options: ["buy", "to buy", "buying", "bought"], a: "to buy" },
    { type: 'mcq', q: "Avoid ______ mistakes.", options: ["make", "to make", "making", "made"], a: "making" },
    { type: 'mcq', q: "Would you like ______ some coffee?", options: ["drink", "to drink", "drinking", "drank"], a: "to drink" },
    { type: 'mcq', q: "It is difficult ______ this problem.", options: ["solve", "to solve", "solving", "solved"], a: "to solve" },
    { type: 'mcq', q: "He stopped ______ because it was harmful.", options: ["smoke", "to smoke", "smoking", "smoked"], a: "smoking" },
    { type: 'mcq', q: "He stopped ______ a newspaper.", options: ["buy", "to buy", "buying", "bought"], a: "to buy" },
    { type: 'mcq', q: "I look forward to ______ you.", options: ["see", "to see", "seeing", "seen"], a: "seeing" },
    { type: 'mcq', q: "Do you mind ______ the window?", options: ["open", "to open", "opening", "opened"], a: "opening" },
    { type: 'mcq', q: "She suggested ______ to the cinema.", options: ["go", "to go", "going", "went"], a: "going" },
    { type: 'mcq', q: "I promise ______ you.", options: ["help", "to help", "helping", "helped"], a: "to help" },
    { type: 'mcq', q: "It's no use ______ him.", options: ["persuade", "to persuade", "persuading", "persuaded"], a: "persuading" },
    { type: 'mcq', q: "He is used to ______ up early.", options: ["get", "to get", "getting", "got"], a: "getting" },
    { type: 'mcq', q: "Let him ______ it.", options: ["do", "to do", "doing", "did"], a: "do" },

    // --- PART: ARTICLES (A, AN, THE) - MCQ ---
    { type: 'mcq', q: "I saw ______ elephant at the zoo.", options: ["a", "an", "the", "x"], a: "an" },
    { type: 'mcq', q: "______ sun rises in the East.", options: ["A", "An", "The", "x"], a: "The" },
    { type: 'mcq', q: "He is ______ honest man.", options: ["a", "an", "the", "x"], a: "an" },
    { type: 'mcq', q: "We often play ______ football after school.", options: ["a", "an", "the", "x"], a: "x" },
    { type: 'mcq', q: "Can I have ______ apple?", options: ["a", "an", "the", "x"], a: "an" },
    { type: 'mcq', q: "She is ______ most beautiful girl.", options: ["a", "an", "the", "x"], a: "the" },
    { type: 'mcq', q: "Paris is ______ capital of France.", options: ["a", "an", "the", "x"], a: "the" },
    { type: 'mcq', q: "I want to buy ______ new car.", options: ["a", "an", "the", "x"], a: "a" },
    { type: 'mcq', q: "______ Earth moves around the Sun.", options: ["A", "An", "The", "x"], a: "The" },
    { type: 'mcq', q: "He goes to work by ______ bus.", options: ["a", "an", "the", "x"], a: "x" },

    // --- PART: CONNECTIVES (T·ª™ N·ªêI) - MCQ ---
    { type: 'mcq', q: "He was tired, ______ he went to bed early.", options: ["because", "so", "but", "although"], a: "so" },
    { type: 'mcq', q: "______ it rained, we went out.", options: ["Because", "So", "However", "Although"], a: "Although" },
    { type: 'mcq', q: "I study hard ______ I want to pass the exam.", options: ["because", "so", "but", "and"], a: "because" },
    { type: 'mcq', q: "She is rich, ______ she is not happy.", options: ["and", "so", "but", "or"], a: "but" },
    { type: 'mcq', q: "Do you like tea ______ coffee?", options: ["and", "or", "but", "so"], a: "or" },
    { type: 'mcq', q: "______ of the rain, we stayed at home.", options: ["Because", "Although", "Despite", "However"], a: "Because" },
    { type: 'mcq', q: "He is intelligent; ______, he is lazy.", options: ["however", "therefore", "but", "so"], a: "however" },
    { type: 'mcq', q: "I washed the dishes ______ my sister swept the floor.", options: ["while", "when", "after", "before"], a: "while" },
    { type: 'mcq', q: "We will wait ______ he comes.", options: ["until", "because", "so", "but"], a: "until" },
    { type: 'mcq', q: "In spite of ______, she went to school.", options: ["sick", "be sick", "being sick", "she was sick"], a: "being sick" },

    // --- PART: PHRASAL VERBS (C·ª§M ƒê·ªòNG T·ª™) - MCQ ---
    { type: 'mcq', q: "Please turn ______ the light. It's dark.", options: ["on", "off", "up", "down"], a: "on" },
    { type: 'mcq', q: "Who looks ______ the baby when you are away?", options: ["for", "at", "after", "up"], a: "after" },
    { type: 'mcq', q: "I am looking ______ my keys. I lost them.", options: ["for", "at", "after", "up"], a: "for" },
    { type: 'mcq', q: "Don't give ______. Keep trying!", options: ["up", "in", "on", "off"], a: "up" },
    { type: 'mcq', q: "The plane took ______ at 7 a.m.", options: ["on", "off", "up", "in"], a: "off" },
    { type: 'mcq', q: "Turn ______ the volume. It's too loud.", options: ["on", "off", "up", "down"], a: "down" },
    { type: 'mcq', q: "He grew ______ in a small village.", options: ["up", "on", "in", "at"], a: "up" },
    { type: 'mcq', q: "Put ______ your coat. It's cold.", options: ["on", "off", "in", "out"], a: "on" },
    { type: 'mcq', q: "She turned ______ the invitation.", options: ["on", "down", "up", "in"], a: "down" },
    { type: 'mcq', q: "We ran ______ gas on the highway.", options: ["out of", "out", "of", "in"], a: "out of" },

    // --- PART: WORD FORM (C·∫§U T·∫†O T·ª™) - MCQ ---
    { type: 'mcq', q: "She sings very ______.", options: ["beautiful", "beautifully", "beauty", "beautify"], a: "beautifully" },
    { type: 'mcq', q: "He is a ______ driver.", options: ["care", "careful", "carefully", "careless"], a: "careful" },
    { type: 'mcq', q: "Air ______ is a big problem.", options: ["pollute", "pollution", "polluted", "pollutant"], a: "pollution" },
    { type: 'mcq', q: "We need to ______ the environment.", options: ["protection", "protect", "protective", "protectively"], a: "protect" },
    { type: 'mcq', q: "The film was very ______.", options: ["excite", "exciting", "excited", "excitement"], a: "exciting" },
    { type: 'mcq', q: "I was ______ by the news.", options: ["shock", "shocking", "shocked", "shockingly"], a: "shocked" },
    { type: 'mcq', q: "He drives ______.", options: ["dangerous", "dangerously", "danger", "endanger"], a: "dangerously" },
    { type: 'mcq', q: "Technology has made our lives ______.", options: ["ease", "easy", "easily", "easier"], a: "easier" },
    { type: 'mcq', q: "She is a famous ______.", options: ["sing", "singer", "singing", "sang"], a: "singer" },
    { type: 'mcq', q: "There is a ______ of food.", options: ["short", "shortage", "shorten", "shortly"], a: "shortage" },

    // --- PART: ERROR IDENTIFICATION (T√åM L·ªñI SAI - MIXED) ---
    { type: 'error', q: "She (A)is (B)more (C)pretty (D)than her sister.", parts: ["is", "more", "pretty", "than"], a: "more", full: "She is <u>prettier</u> than her sister." },
    { type: 'error', q: "I (A)am (B)interested (C)on (D)learning English.", parts: ["am", "interested", "on", "learning"], a: "on", full: "I am interested <u>in</u> learning English." },
    { type: 'error', q: "He (A)stopped (B)to smoke (C)because (D)it is bad.", parts: ["stopped", "to smoke", "because", "it is"], a: "to smoke", full: "He stopped <u>smoking</u> because it is bad." },
    { type: 'error', q: "Despite (A)he (B)was tired, (C)he (D)finished the work.", parts: ["he", "was tired", "he", "finished"], a: "he", full: "Despite <u>being tired</u>, he finished the work." },
    { type: 'error', q: "She (A)plays (B)the piano (C)very (D)good.", parts: ["plays", "the piano", "very", "good"], a: "good", full: "She plays the piano very <u>well</u>." },
    { type: 'error', q: "If I (A)am (B)you, I (C)would (D)buy that car.", parts: ["am", "you", "would", "buy"], a: "am", full: "If I <u>were</u> you, I would buy that car." },
    { type: 'error', q: "We (A)look (B)forward (C)to (D)see you.", parts: ["look", "forward", "to", "see"], a: "see", full: "We look forward to <u>seeing</u> you." },
    { type: 'error', q: "This is (A)the (B)more (C)expensive car (D)I have ever seen.", parts: ["the", "more", "expensive", "I have"], a: "more", full: "This is the <u>most</u> expensive car I have ever seen." },
    { type: 'error', q: "My father (A)used to (B)smoking (C)when (D)he was young.", parts: ["used to", "smoking", "when", "he was"], a: "smoking", full: "My father used to <u>smoke</u> when he was young." },
    { type: 'error', q: "She (A)wishes (B)she (C)can (D)fly.", parts: ["wishes", "she", "can", "fly"], a: "can", full: "She wishes she <u>could</u> fly." },
    { type: 'error', q: "The girl (A)who (B)mother (C)is a doctor (D)is my friend.", parts: ["who", "mother", "is a", "is my"], a: "who", full: "The girl <u>whose</u> mother is a doctor is my friend." },
    { type: 'error', q: "I (A)don't (B)know (C)where (D)does she live.", parts: ["don't", "know", "where", "does she live"], a: "does she live", full: "I don't know where <u>she lives</u>." },
    { type: 'error', q: "Let's (A)going (B)to (C)the (D)cinema.", parts: ["going", "to", "the", "cinema"], a: "going", full: "Let's <u>go</u> to the cinema." },
    { type: 'error', q: "Would you (A)like (B)drinking (C)some (D)coffee?", parts: ["like", "drinking", "some", "coffee"], a: "drinking", full: "Would you like <u>to drink</u> some coffee?" },
    { type: 'error', q: "He (A)drives (B)careful (C)to (D)avoid accidents.", parts: ["drives", "careful", "to", "avoid"], a: "careful", full: "He drives <u>carefully</u> to avoid accidents." },

    // --- PART: SCRAMBLE (S·∫ÆP X·∫æP T·ª™ - MIXED) ---
    { type: 'scramble', q: "Arrange: interested / is / He / in / music / listening / to", a: "He is interested in listening to music" },
    { type: 'scramble', q: "Arrange: is / This / the / film / best / seen / I / ever / have", a: "This is the best film I have ever seen" },
    { type: 'scramble', q: "Arrange: forward / looking / I / am / to / hearing / you / from", a: "I am looking forward to hearing from you" },
    { type: 'scramble', q: "Arrange: used / He / to / football / play / he / when / was / young", a: "He used to play football when he was young" },
    { type: 'scramble', q: "Arrange: would / What / you / do / if / you / rich / were / ?", a: "What would you do if you were rich ?" },
    { type: 'scramble', q: "Arrange: mind / Do / you / the / closing / door / ?", a: "Do you mind closing the door ?" },
    { type: 'scramble', q: "Arrange: suggested / She / to / the / going / beach", a: "She suggested going to the beach" },
    { type: 'scramble', q: "Arrange: intelligent / more / is / She / than / thinks / she", a: "She is more intelligent than she thinks" },
    { type: 'scramble', q: "Arrange: spite / In / of / the / rain / went / we / out", a: "In spite of the rain we went out" },
    { type: 'scramble', q: "Arrange: turn / Please / off / the / when / leave / lights / you", a: "Please turn off the lights when you leave" },
    { type: 'scramble', q: "Arrange: proud / is / She / of / very / son / her", a: "She is very proud of her son" },
    { type: 'scramble', q: "Arrange: prefer / I / tea / coffee / to", a: "I prefer tea to coffee" },
    { type: 'scramble', q: "Arrange: spend / How / much / time / do / you / learning / ?", a: "How much time do you spend learning ?" },
    { type: 'scramble', q: "Arrange: impossible / is / Nothing / is / it / ?", a: "Nothing is impossible is it ?" },
    { type: 'scramble', q: "Arrange: English / He / speaks / very / well", a: "He speaks English very well" },
    { type: 'scramble', q: "Arrange: car / buying / about / How / a / new / ?", a: "How about buying a new car ?" },
    { type: 'scramble', q: "Arrange: is / It / difficult / to / learn / Japanese", a: "It is difficult to learn Japanese" },
    { type: 'scramble', q: "Arrange: too / hot / It / is / to / out / go", a: "It is too hot to go out" },
    { type: 'scramble', q: "Arrange: enough / He / isn't / tall / to / reach / shelf / the", a: "He isn't tall enough to reach the shelf" },
    { type: 'scramble', q: "Arrange: stop / Please / talking / class / in", a: "Please stop talking in class" },

    // --- PART: MORE MCQ MIXED (TR·∫ÆC NGHI·ªÜM T·ªîNG H·ª¢P) ---
    { type: 'mcq', q: "______ does it take you to get to school?", options: ["How often", "How far", "How long", "How much"], a: "How long" },
    { type: 'mcq', q: "Would you mind if I ______ here?", options: ["sit", "sat", "sitting", "to sit"], a: "sat" },
    { type: 'mcq', q: "He asked me ______ I liked pop music.", options: ["if", "what", "where", "which"], a: "if" },
    { type: 'mcq', q: "This is the first time I ______ seafood.", options: ["eat", "ate", "have eaten", "am eating"], a: "have eaten" },
    { type: 'mcq', q: "You should ______ your homework before going out.", options: ["finish", "to finish", "finishing", "finished"], a: "finish" },
    { type: 'mcq', q: "They made him ______ the whole day.", options: ["work", "to work", "working", "worked"], a: "work" },
    { type: 'mcq', q: "It was ______ a boring film that I fell asleep.", options: ["so", "such", "very", "too"], a: "such" },
    { type: 'mcq', q: "The film was ______ boring that I fell asleep.", options: ["so", "such", "very", "too"], a: "so" },
    { type: 'mcq', q: "I wish I ______ how to swim.", options: ["know", "knew", "known", "knowing"], a: "knew" },
    { type: 'mcq', q: "Unless you study hard, you ______ fail.", options: ["will", "won't", "don't", "didn't"], a: "will" },
    { type: 'mcq', q: "I have ______ money, so I can't buy it.", options: ["little", "a little", "few", "a few"], a: "little" },
    { type: 'mcq', q: "I have ______ friends here.", options: ["little", "much", "a few", "a little"], a: "a few" },
    { type: 'mcq', q: "Neither Tom ______ Mary likes music.", options: ["and", "or", "nor", "but"], a: "nor" },
    { type: 'mcq', q: "Either you ______ I am wrong.", options: ["and", "or", "nor", "but"], a: "or" },
    { type: 'mcq', q: "He is ______ intelligent and hardworking.", options: ["both", "either", "neither", "not only"], a: "both" },

    // --- PART: COMMUNICATION (GIAO TI·∫æP X√É H·ªòI) - MCQ ---
    { type: 'mcq', q: "- 'Thank you very much for your help.' - '______'", options: ["You're welcome", "No problem", "It's my pleasure", "All are correct"], a: "All are correct" },
    { type: 'mcq', q: "- 'Would you like some tea?' - '______'", options: ["Yes, please", "Yes, I would", "No, I don't", "You're welcome"], a: "Yes, please" },
    { type: 'mcq', q: "- 'How do you do?' - '______'", options: ["I'm fine", "How do you do?", "Nice to meet you", "It's ok"], a: "How do you do?" },
    { type: 'mcq', q: "- 'I think we should save energy.' - '______'", options: ["I agree with you", "That's not true", "Yes, we do", "You're wrong"], a: "I agree with you" },
    { type: 'mcq', q: "- 'Happy Birthday!' - '______'", options: ["The same to you", "Thank you", "Good luck", "Congratulations"], a: "Thank you" },
    { type: 'mcq', q: "- 'May I go out?' - '______'", options: ["Yes, you can", "No, you can't", "Yes, of course", "All are correct"], a: "All are correct" },
    { type: 'mcq', q: "- 'What a beautiful dress!' - '______'", options: ["It's old", "Thanks. I bought it yesterday", "You're lying", "No, it's not"], a: "Thanks. I bought it yesterday" },
    { type: 'mcq', q: "- 'I passed the exam!' - '______'", options: ["Good luck", "Congratulations", "Try harder", "Thank you"], a: "Congratulations" },
    { type: 'mcq', q: "- 'Can you help me with this?' - '______'", options: ["Yes, I can", "I'm busy now, sorry", "No, I don't", "I am fine"], a: "I'm busy now, sorry" },
    { type: 'mcq', q: "- 'Let's go to the cinema.' - '______'", options: ["Good idea", "Yes, let's", "That sounds great", "All are correct"], a: "All are correct" },
    { type: 'mcq', q: "- 'I'm sorry I'm late.' - '______'", options: ["You're welcome", "Never mind", "Good job", "Yes, please"], a: "Never mind" },
    { type: 'mcq', q: "- 'Must I finish it now?' - '______'", options: ["Yes, you must", "No, you needn't", "Yes, you need", "No, you mustn't"], a: "No, you needn't" },
    { type: 'mcq', q: "- 'Would you mind opening the window?' - '______'", options: ["No, not at all", "Yes, I would", "Yes, I do", "I'd love to"], a: "No, not at all" },
    { type: 'mcq', q: "- 'How often do you go swimming?' - '______'", options: ["Twice a week", "In the morning", "With my friends", "At the pool"], a: "Twice a week" },
    { type: 'mcq', q: "- 'Why don't we go for a picnic?' - '______'", options: ["Because I'm busy", "That's a good idea", "Yes, we do", "No, we don't"], a: "That's a good idea" },

    // --- PART: VOCABULARY - SYNONYMS (T·ª™ ƒê·ªíNG NGHƒ®A) - MCQ ---
    { type: 'mcq', q: "Synonym of 'Start': The film will *start* at 8 p.m.", options: ["end", "begin", "finish", "stop"], a: "begin" },
    { type: 'mcq', q: "Synonym of 'Hard': The test was very *hard*.", options: ["easy", "simple", "difficult", "clear"], a: "difficult" },
    { type: 'mcq', q: "Synonym of 'Famous': He is a *famous* singer.", options: ["unknown", "well-known", "bad", "rich"], a: "well-known" },
    { type: 'mcq', q: "Synonym of 'Buy': I want to *buy* a new car.", options: ["sell", "purchase", "rent", "give"], a: "purchase" },
    { type: 'mcq', q: "Synonym of 'Arrive': We *arrived* at the station early.", options: ["left", "reached", "went", "came"], a: "reached" },
    { type: 'mcq', q: "Synonym of 'Opportunity': It's a good *opportunity* to learn.", options: ["chance", "time", "way", "job"], a: "chance" },
    { type: 'mcq', q: "Synonym of 'Intelligent': She is very *intelligent*.", options: ["smart", "stupid", "lazy", "slow"], a: "smart" },
    { type: 'mcq', q: "Synonym of 'Protect': We must *protect* the environment.", options: ["destroy", "save", "make", "use"], a: "save" },
    { type: 'mcq', q: "Synonym of 'Happen': What *happened*?", options: ["took place", "went", "did", "made"], a: "took place" },
    { type: 'mcq', q: "Synonym of 'Suggest': I *suggest* going by bus.", options: ["decide", "recommend", "want", "like"], a: "recommend" },

    // --- PART: VOCABULARY - ANTONYMS (T·ª™ TR√ÅI NGHƒ®A) - MCQ ---
    { type: 'mcq', q: "Antonym of 'Hot': It is very *hot* today.", options: ["cold", "warm", "cool", "dry"], a: "cold" },
    { type: 'mcq', q: "Antonym of 'Happy': She looks very *happy*.", options: ["sad", "excited", "tired", "bored"], a: "sad" },
    { type: 'mcq', q: "Antonym of 'Big': They live in a *big* house.", options: ["small", "large", "huge", "wide"], a: "small" },
    { type: 'mcq', q: "Antonym of 'Noisy': The city is too *noisy*.", options: ["quiet", "crowded", "dirty", "busy"], a: "quiet" },
    { type: 'mcq', q: "Antonym of 'Cheap': This watch is very *cheap*.", options: ["expensive", "low", "bad", "good"], a: "expensive" },
    { type: 'mcq', q: "Antonym of 'Dangerous': It is *dangerous* to swim here.", options: ["safe", "risky", "easy", "hard"], a: "safe" },
    { type: 'mcq', q: "Antonym of 'Remember': Did you *remember* to lock the door?", options: ["forget", "remind", "know", "think"], a: "forget" },
    { type: 'mcq', q: "Antonym of 'Win': I hope our team will *win*.", options: ["lose", "defeat", "beat", "succeed"], a: "lose" },
    { type: 'mcq', q: "Antonym of 'Pull': Don't *pull* the door.", options: ["push", "press", "open", "close"], a: "push" },
    { type: 'mcq', q: "Antonym of 'Modern': It is a *modern* building.", options: ["new", "ancient", "recent", "good"], a: "ancient" },

    // --- PART: PHONETICS (TR·ªåNG √ÇM & PH√ÅT √ÇM) - MCQ ---
    { type: 'mcq', q: "Find the word with different stress:", options: ["father", "mother", "teacher", "career"], a: "career" },
    { type: 'mcq', q: "Find the word with different stress:", options: ["decide", "finish", "enjoy", "collect"], a: "finish" },
    { type: 'mcq', q: "Find the word with different stress:", options: ["beautiful", "expensive", "interesting", "colorful"], a: "expensive" },
    { type: 'mcq', q: "Find the word with different stress:", options: ["pollution", "computer", "energy", "appliance"], a: "energy" },
    { type: 'mcq', q: "Find the word with different stress:", options: ["happen", "listen", "visit", "allow"], a: "allow" },
    { type: 'mcq', q: "Choose the word with different pronunciation (ed):", options: ["wanted", "needed", "played", "visited"], a: "played" },
    { type: 'mcq', q: "Choose the word with different pronunciation (ed):", options: ["washed", "watched", "stopped", "lived"], a: "lived" },
    { type: 'mcq', q: "Choose the word with different pronunciation (s/es):", options: ["books", "cats", "dogs", "maps"], a: "dogs" },
    { type: 'mcq', q: "Choose the word with different pronunciation (ch):", options: ["chemistry", "chicken", "church", "children"], a: "chemistry" },
    { type: 'mcq', q: "Choose the word with different pronunciation (th):", options: ["think", "that", "this", "those"], a: "think" },

    // --- PART: CAUSATIVE FORM (TH·ªÇ SAI KHI·∫æN) - MCQ ---
    { type: 'mcq', q: "I had him ______ the car.", options: ["repair", "to repair", "repaired", "repairing"], a: "repair" },
    { type: 'mcq', q: "I had the car ______ by him.", options: ["repair", "to repair", "repaired", "repairing"], a: "repaired" },
    { type: 'mcq', q: "She got me ______ the letter.", options: ["write", "to write", "written", "writing"], a: "to write" },
    { type: 'mcq', q: "She got the letter ______.", options: ["write", "to write", "written", "writing"], a: "written" },
    { type: 'mcq', q: "We are going to have our house ______.", options: ["paint", "to paint", "painted", "painting"], a: "painted" },
    { type: 'mcq', q: "He is having his hair ______ right now.", options: ["cut", "to cut", "cutting", "cuts"], a: "cut" },
    { type: 'mcq', q: "Do you have the gardener ______ the flowers?", options: ["water", "to water", "watered", "watering"], a: "water" },

    // --- PART: ADVANCED SCRAMBLE (S·∫ÆP X·∫æP C√ÇU N√ÇNG CAO) ---
    { type: 'scramble', q: "Arrange: takes / It / me / minutes / 15 / to / school / go / to", a: "It takes me 15 minutes to go to school" },
    { type: 'scramble', q: "Arrange: used / This / to / be / best / the / restaurant / town / in", a: "This used to be the best restaurant in town" },
    { type: 'scramble', q: "Arrange: not / I / have / seen / for / him / long / a / time", a: "I have not seen him for a long time" },
    { type: 'scramble', q: "Arrange: bored / He / is / with / doing / same / the / thing / day / every", a: "He is bored with doing the same thing every day" },
    { type: 'scramble', q: "Arrange: would / rather / I / stay / than / home / go / out", a: "I would rather stay home than go out" },
    { type: 'scramble', q: "Arrange: so / The / is / heavy / box / that / cannot / I / it / lift", a: "The box is so heavy that I cannot lift it" },
    { type: 'scramble', q: "Arrange: such / It / was / a / day / nice / that / went / we / picnic / for / a", a: "It was such a nice day that we went for a picnic" },
    { type: 'scramble', q: "Arrange: prevent / Nobody / can / us / from / doing / that", a: "Nobody can prevent us from doing that" },
    { type: 'scramble', q: "Arrange: looking / I / am / forward / to / hearing / from / soon / you", a: "I am looking forward to hearing from you soon" },
    { type: 'scramble', q: "Arrange: suggested / Peter / that / should / we / go / bus / by", a: "Peter suggested that we should go by bus" },

    // --- PART: ERROR IDENTIFICATION (T√åM L·ªñI SAI N√ÇNG CAO) ---
    { type: 'error', q: "I (A)wish (B)I (C)have (D)a computer.", parts: ["wish", "I", "have", "a computer"], a: "have", full: "I wish I <u>had</u> a computer." },
    { type: 'error', q: "She (A)asked (B)me (C)if (D)I like pop music.", parts: ["asked", "me", "if", "I like"], a: "I like", full: "She asked me if I <u>liked</u> pop music." },
    { type: 'error', q: "It (A)takes (B)me (C)two hours (D)doing my homework.", parts: ["takes", "me", "two hours", "doing"], a: "doing", full: "It takes me two hours <u>to do</u> my homework." },
    { type: 'error', q: "We (A)spend (B)time (C)to play (D)games.", parts: ["spend", "time", "to play", "games"], a: "to play", full: "We spend time <u>playing</u> games." },
    { type: 'error', q: "Would (A)you (B)mind (C)to open (D)the door?", parts: ["you", "mind", "to open", "the door"], a: "to open", full: "Would you mind <u>opening</u> the door?" },
    { type: 'error', q: "He (A)is (B)enough strong (C)to lift (D)the box.", parts: ["is", "enough strong", "to lift", "the box"], a: "enough strong", full: "He is <u>strong enough</u> to lift the box." },
    { type: 'error', q: "They (A)enjoy (B)to watch (C)TV (D)in the evening.", parts: ["enjoy", "to watch", "TV", "in the evening"], a: "to watch", full: "They enjoy <u>watching</u> TV in the evening." },
    { type: 'error', q: "This is (A)the (B)first time (C)I (D)met him.", parts: ["the", "first time", "I", "met"], a: "met", full: "This is the first time I <u>have met</u> him." },
    { type: 'error', q: "Unless (A)you (B)don't study, (C)you (D)will fail.", parts: ["Unless", "don't study", "you", "will fail"], a: "don't study", full: "Unless <u>you study</u>, you will fail." },
    { type: 'error', q: "The man (A)whom (B)you met (C)him (D)yesterday is my uncle.", parts: ["whom", "you met", "him", "yesterday"], a: "him", full: "The man whom you met yesterday is my uncle." }, 

    // --- PART: MIXED GRAMMAR (NG·ªÆ PH√ÅP T·ªîNG H·ª¢P) - MCQ ---
    { type: 'mcq', q: "It's time we ______ home.", options: ["go", "went", "have gone", "will go"], a: "went" },
    { type: 'mcq', q: "I'd rather you ______ here.", options: ["stay", "stayed", "to stay", "staying"], a: "stayed" },
    { type: 'mcq', q: "It's no use ______ that.", options: ["do", "to do", "doing", "done"], a: "doing" },
    { type: 'mcq', q: "He acts as if he ______ everything.", options: ["knows", "knew", "known", "has known"], a: "knew" },
    { type: 'mcq', q: "We are ______ of money.", options: ["running out", "running", "ran out", "run out"], a: "running out" },
    { type: 'mcq', q: "Don't forget to turn ______ the lights.", options: ["on", "off", "in", "out"], a: "off" },
    { type: 'mcq', q: "She is famous ______ her cooking.", options: ["for", "with", "about", "of"], a: "for" },
    { type: 'mcq', q: "The reason ______ he left is unknown.", options: ["why", "which", "that", "what"], a: "why" },
    { type: 'mcq', q: "Do you know the man ______ is talking to Lan?", options: ["who", "whom", "which", "whose"], a: "who" },
    { type: 'mcq', q: "The car ______ he bought is very expensive.", options: ["who", "whom", "which", "whose"], a: "which" },
    { type: 'mcq', q: "She is the woman ______ son is a doctor.", options: ["who", "whom", "which", "whose"], a: "whose" },
    { type: 'mcq', q: "Where is the book ______ I gave you?", options: ["who", "whom", "which", "whose"], a: "which" },
    { type: 'mcq', q: "That is the house ______ I was born.", options: ["which", "where", "that", "when"], a: "where" },
    { type: 'mcq', q: "I remember ______ him somewhere.", options: ["see", "to see", "seeing", "seen"], a: "seeing" },
    { type: 'mcq', q: "Please remember ______ this letter.", options: ["post", "to post", "posting", "posted"], a: "to post" },
    { type: 'mcq', q: "He tried ______ the door, but he couldn't.", options: ["open", "to open", "opening", "opened"], a: "to open" },
    { type: 'mcq', q: "You should try ______ this shirt. It looks nice.", options: ["wear", "to wear", "wearing", "worn"], a: "wearing" },
    { type: 'mcq', q: "I regret ______ you that you failed.", options: ["tell", "to tell", "telling", "told"], a: "to tell" },
    { type: 'mcq', q: "I regret ______ that car. It's too old.", options: ["buy", "to buy", "buying", "bought"], a: "buying" },

    // --- PH·∫¶N 23: C·ª§M ƒê·ªòNG T·ª™ (PHRASAL VERBS) - N√ÇNG CAO ---
    { type: 'mcq', q: "He _______ the offer because the salary was too low.", options: ["turned down", "turned up", "turned on", "turned off"], a: "turned down" },
    { type: 'mcq', q: "The meeting has been _______ until next week.", options: ["put off", "put on", "put up", "put in"], a: "put off" },
    { type: 'mcq', q: "I can't _______ his rude behavior anymore.", options: ["put up with", "keep up with", "get on with", "look forward to"], a: "put up with" },
    { type: 'mcq', q: "We need to _______ more information before making a decision.", options: ["find out", "look for", "turn out", "bring out"], a: "find out" },
    { type: 'mcq', q: "The bomb _______ in a crowded street.", options: ["went off", "went out", "went on", "went away"], a: "went off" },
    { type: 'mcq', q: "Remember to _______ your shoes before entering the house.", options: ["take off", "take on", "put off", "put on"], a: "take off" },
    { type: 'mcq', q: "She _______ her mother in many ways.", options: ["takes after", "looks after", "takes off", "looks for"], a: "takes after" },
    { type: 'mcq', q: "If you don't know a word, _______ it _______ in the dictionary.", options: ["look / up", "look / for", "look / after", "look / at"], a: "look / up" },
    { type: 'mcq', q: "They _______ of gas in the middle of the desert.", options: ["ran out", "ran away", "ran over", "ran into"], a: "ran out" },
    { type: 'mcq', q: "Don't _______ ! You can do it.", options: ["give up", "give in", "give away", "give back"], a: "give up" },

    // --- PH·∫¶N 24: C·∫§U TR√öC SO THAT / SUCH THAT / TOO / ENOUGH ---
    { type: 'mcq', q: "The coffee was _______ hot that I couldn't drink it.", options: ["so", "such", "too", "very"], a: "so" },
    { type: 'mcq', q: "It was _______ a boring movie that I fell asleep.", options: ["so", "such", "too", "very"], a: "such" },
    { type: 'mcq', q: "He isn't old _______ to drive a car.", options: ["enough", "too", "so", "such"], a: "enough" },
    { type: 'mcq', q: "The bag is _______ heavy for me to carry.", options: ["too", "enough", "so", "such"], a: "too" },
    { type: 'mcq', q: "She speaks English _______ well that everyone admires her.", options: ["so", "such", "too", "very"], a: "so" },
    { type: 'mcq', q: "It was _______ nice weather that we went to the beach.", options: ["so", "such", "too", "enough"], a: "such" },
    { type: 'mcq', q: "The water is not warm _______ to swim in.", options: ["enough", "too", "so", "very"], a: "enough" },
    { type: 'mcq', q: "He ran _______ slowly to win the race.", options: ["too", "enough", "so", "such"], a: "too" },
    { type: 'mcq', q: "They are _______ intelligent students that they passed easily.", options: ["so", "such", "too", "enough"], a: "such" },
    { type: 'mcq', q: "The questions were _______ difficult that nobody could answer them.", options: ["so", "such", "too", "very"], a: "so" },

    // --- PH·∫¶N 25: ƒê·∫¢O NG·ªÆ (INVERSION) - N√ÇNG CAO ---
    { type: 'mcq', q: "Never _______ such a beautiful sight.", options: ["have I seen", "I have seen", "did I see", "I saw"], a: "have I seen" },
    { type: 'mcq', q: "Rarely _______ out at night.", options: ["does she go", "she goes", "did she go", "she went"], a: "does she go" },
    { type: 'mcq', q: "Not only _______ beautiful but she is also intelligent.", options: ["is she", "she is", "was she", "she was"], a: "is she" },
    { type: 'mcq', q: "No sooner _______ the house than it started raining.", options: ["had I left", "I had left", "did I leave", "I left"], a: "had I left" },
    { type: 'mcq', q: "Hardly _______ asleep when the phone rang.", options: ["had I fallen", "I had fallen", "did I fall", "I fell"], a: "had I fallen" },
    { type: 'mcq', q: "Only by working hard _______ succeed.", options: ["can you", "you can", "do you", "did you"], a: "can you" },
    { type: 'mcq', q: "Under no circumstances _______ the door.", options: ["should you open", "you should open", "do you open", "you open"], a: "should you open" },
    { type: 'mcq', q: "Little _______ that he was being watched.", options: ["did he know", "he knew", "does he know", "he knows"], a: "did he know" },
    { type: 'mcq', q: "Seldom _______ to the cinema.", options: ["do we go", "we go", "did we go", "we went"], a: "do we go" },
    { type: 'mcq', q: "Nowhere _______ find a better friend than him.", options: ["will you", "you will", "do you", "you do"], a: "will you" },

    // --- PH·∫¶N 26: S·∫ÆP X·∫æP C√ÇU - ƒê·∫¢O NG·ªÆ & C·∫§U TR√öC K√âP ---
    { type: 'scramble', q: "Arrange: No / had / sooner / arrived / he / than / left / she", a: "No sooner had he arrived than she left" },
    { type: 'scramble', q: "Arrange: Not / is / only / he / handsome / also / but / rich", a: "Not only is he handsome but also rich" },
    { type: 'scramble', q: "Arrange: Never / I / have / such / seen / a / film / bad", a: "Never have I seen such a bad film" },
    { type: 'scramble', q: "Arrange: harder / The / you / study / better / the / results / will / be", a: "The harder you study the better the results will be" },
    { type: 'scramble', q: "Arrange: more / The / we / learn / more / the / we / know", a: "The more we learn the more we know" },
    { type: 'scramble', q: "Arrange: prevent / weather / The / bad / couldn't / us / from / going", a: "The bad weather couldn't prevent us from going" },
    { type: 'scramble', q: "Arrange: suggested / Lan / that / should / go / we / camping", a: "Lan suggested that we should go camping" },
    { type: 'scramble', q: "Arrange: used / father / My / to / smoke / packet / a / day / a", a: "My father used to smoke a packet a day" },
    { type: 'scramble', q: "Arrange: wish / I / didn't / I / have / to / work / today", a: "I wish I didn't have to work today" },
    { type: 'scramble', q: "Arrange: It / time / is / high / we / home / went", a: "It is high time we went home" },

    // --- PH·∫¶N 27: GI·ªöI T·ª™ & COLLOCATIONS (C·ª§M T·ª™ C·ªê ƒê·ªäNH) ---
    { type: 'mcq', q: "He is famous _______ his honesty.", options: ["for", "with", "about", "in"], a: "for" },
    { type: 'mcq', q: "Are you aware _______ the danger?", options: ["of", "with", "about", "on"], a: "of" },
    { type: 'mcq', q: "This song reminds me _______ my childhood.", options: ["of", "about", "with", "to"], a: "of" },
    { type: 'mcq', q: "She is capable _______ doing this job.", options: ["of", "in", "at", "for"], a: "of" },
    { type: 'mcq', q: "I am fed up _______ this rainy weather.", options: ["with", "of", "about", "on"], a: "with" },
    { type: 'mcq', q: "The book is divided _______ three parts.", options: ["into", "in", "to", "for"], a: "into" },
    { type: 'mcq', q: "We were surprised _______ the news.", options: ["at", "with", "about", "of"], a: "at" },
    { type: 'mcq', q: "Who is responsible _______ this mess?", options: ["for", "to", "with", "at"], a: "for" },
    { type: 'mcq', q: "He apologized _______ being late.", options: ["for", "to", "about", "with"], a: "for" },
    { type: 'mcq', q: "She is married _______ a doctor.", options: ["to", "with", "for", "about"], a: "to" },

    // --- PH·∫¶N 28: T√åM T·ª™ ƒê·ªíNG NGHƒ®A & TR√ÅI NGHƒ®A (VOCABULARY) ---
    { type: 'mcq', q: "Synonym of 'Relaxed': He felt very *relaxed* after the exam.", options: ["calm", "anxious", "stressed", "nervous"], a: "calm" },
    { type: 'mcq', q: "Synonym of 'Essential': Water is *essential* for life.", options: ["necessary", "useless", "optional", "harmful"], a: "necessary" },
    { type: 'mcq', q: "Synonym of 'Discuss': We need to *discuss* the plan.", options: ["talk over", "ignore", "write", "read"], a: "talk over" },
    { type: 'mcq', q: "Synonym of 'Fantastic': The view was *fantastic*.", options: ["wonderful", "terrible", "bad", "boring"], a: "wonderful" },
    { type: 'mcq', q: "Synonym of 'Give up': You should *give up* smoking.", options: ["stop", "continue", "start", "enjoy"], a: "stop" },
    { type: 'mcq', q: "Antonym of 'Success': Hard work is the key to *success*.", options: ["failure", "victory", "win", "achievement"], a: "failure" },
    { type: 'mcq', q: "Antonym of 'Generous': He is very *generous* to the poor.", options: ["mean", "kind", "helpful", "rich"], a: "mean" },
    { type: 'mcq', q: "Antonym of 'Optimistic': She is *optimistic* about the future.", options: ["pessimistic", "happy", "hopeful", "positive"], a: "pessimistic" },
    { type: 'mcq', q: "Antonym of 'Private': This is a *private* conversation.", options: ["public", "secret", "personal", "own"], a: "public" },
    { type: 'mcq', q: "Antonym of 'Simple': The solution is very *simple*.", options: ["complicated", "easy", "plain", "clear"], a: "complicated" },

    // --- PH·∫¶N 29: TR·ªåNG √ÇM (STRESS) - 3 & 4 √ÇM TI·∫æT ---
    { type: 'mcq', q: "Find the word with different stress:", options: ["beautiful", "dangerous", "expensive", "family"], a: "expensive" },
    { type: 'mcq', q: "Find the word with different stress:", options: ["television", "decoration", "introduction", "information"], a: "television" },
    { type: 'mcq', q: "Find the word with different stress:", options: ["economy", "geography", "biology", "history"], a: "history" },
    { type: 'mcq', q: "Find the word with different stress:", options: ["improve", "visit", "travel", "happen"], a: "improve" },
    { type: 'mcq', q: "Find the word with different stress:", options: ["comfortable", "necessary", "community", "interesting"], a: "community" },

    // --- PH·∫¶N 30: C√ÇU ƒêI·ªÄU KI·ªÜN H·ªñN H·ª¢P & N√ÇNG CAO ---
    { type: 'mcq', q: "If I _______ breakfast, I wouldn't be hungry now.", options: ["had eaten", "ate", "eat", "have eaten"], a: "had eaten" },
    { type: 'mcq', q: "If it _______ for your help, I couldn't have finished.", options: ["hadn't been", "weren't", "isn't", "hasn't been"], a: "hadn't been" },
    { type: 'mcq', q: "But for the rain, we _______ a good time.", options: ["would have had", "would have", "will have", "had"], a: "would have had" },
    { type: 'mcq', q: "Should you see him, _______ him to call me.", options: ["tell", "told", "telling", "to tell"], a: "tell" },
    { type: 'mcq', q: "Were I you, I _______ that job offer.", options: ["would accept", "will accept", "accepted", "accept"], a: "would accept" },
    { type: 'mcq', q: "If I _______ the lottery last week, I would be rich now.", options: ["had won", "won", "win", "have won"], a: "had won" },
    { type: 'mcq', q: "_______ you study harder, you will fail the exam.", options: ["Unless", "If", "When", "Because"], a: "Unless" },
    { type: 'mcq', q: "I will call you as soon as I _______ there.", options: ["arrive", "will arrive", "arrived", "am arriving"], a: "arrive" },
    { type: 'mcq', q: "You can borrow my car _______ you drive carefully.", options: ["provided", "unless", "in case", "although"], a: "provided" },
    { type: 'mcq', q: "Take an umbrella _______ it rains.", options: ["in case", "if", "unless", "when"], a: "in case" },

    // --- PH·∫¶N 31: T√åM L·ªñI SAI (ERROR IDENTIFICATION) - N√ÇNG CAO ---
    { type: 'error', q: "Although (A)he is (B)rich, (C)but he is (D)unhappy.", parts: ["he is", "rich", "but", "unhappy"], a: "but", full: "Although he is rich, he is unhappy." },
    { type: 'error', q: "She (A)suggested (B)that we (C)went (D)to the cinema.", parts: ["suggested", "that we", "went", "to the cinema"], a: "went", full: "She suggested that we <u>go/should go</u> to the cinema." },
    { type: 'error', q: "Neither (A)Tom (B)nor (C)his friends (D)is going to the party.", parts: ["Tom", "nor", "his friends", "is"], a: "is", full: "Neither Tom nor his friends <u>are</u> going to the party." },
    { type: 'error', q: "There (A)is (B)a large number of (C)people (D)in the park.", parts: ["is", "a large number of", "people", "in the park"], a: "is", full: "There <u>are</u> a large number of people in the park." },
    { type: 'error', q: "Not only (A)he (B)is handsome (C)but also (D)intelligent.", parts: ["he", "is", "but also", "intelligent"], a: "he", full: "Not only <u>is he</u> handsome but also intelligent." },
    { type: 'error', q: "I stopped (A)to buy (B)a newspaper (C)and (D)read it.", parts: ["to buy", "a newspaper", "and", "read"], a: "read", full: "I stopped to buy a newspaper and <u>to read</u> it." },
    { type: 'error', q: "The (A)novel (B)writing (C)by Mark Twain (D)is famous.", parts: ["novel", "writing", "by", "is"], a: "writing", full: "The novel <u>written</u> by Mark Twain is famous." },
    { type: 'error', q: "We (A)are (B)looking forward (C)to (D)hear from you.", parts: ["are", "looking forward", "to", "hear"], a: "hear", full: "We are looking forward to <u>hearing</u> from you." },
    { type: 'error', q: "If I (A)had known (B)you were coming, I (C)would pick (D)you up.", parts: ["had known", "you were coming", "would pick", "you up"], a: "would pick", full: "If I had known you were coming, I <u>would have picked</u> you up." },
    { type: 'error', q: "She (A)asked (B)me (C)where (D)was I going.", parts: ["asked", "me", "where", "was I going"], a: "was I going", full: "She asked me where <u>I was going</u>." },

    // --- PH·∫¶N 32: M·ªÜNH ƒê·ªÄ QUAN H·ªÜ R√öT G·ªåN (REDUCED RELATIVE CLAUSES) ---
    { type: 'mcq', q: "The man _______ to the boss is my father.", options: ["talking", "talked", "talks", "who talk"], a: "talking" },
    { type: 'mcq', q: "The car _______ in Japan is very reliable.", options: ["made", "making", "make", "makes"], a: "made" },
    { type: 'mcq', q: "Do you know the woman _______ a red dress?", options: ["wearing", "worn", "wears", "wear"], a: "wearing" },
    { type: 'mcq', q: "The ideas _______ in this book are interesting.", options: ["presented", "presenting", "presents", "present"], a: "presented" },
    { type: 'mcq', q: "The first student _______ the classroom erased the board.", options: ["to enter", "entering", "entered", "enter"], a: "to enter" },
    { type: 'mcq', q: "There are many things _______ today.", options: ["to do", "doing", "done", "do"], a: "to do" },
    { type: 'mcq', q: "I have a letter _______.", options: ["to write", "writing", "written", "write"], a: "to write" },
    { type: 'mcq', q: "The house _______ five years ago is now old.", options: ["built", "building", "builds", "to build"], a: "built" },
    { type: 'mcq', q: "Anyone _______ late will not be admitted.", options: ["arriving", "arrived", "arrives", "arrive"], a: "arriving" },
    { type: 'mcq', q: "The bridge _______ across the river is very long.", options: ["built", "building", "to build", "build"], a: "built" },

    // --- PH·∫¶N 33: T·ª™ V·ª∞NG & GI·ªöI T·ª™ (TI·∫æP THEO) ---
    { type: 'mcq', q: "He succeeded _______ getting the job.", options: ["in", "on", "at", "to"], a: "in" },
    { type: 'mcq', q: "She insisted _______ paying for the meal.", options: ["on", "in", "at", "with"], a: "on" },
    { type: 'mcq', q: "Don't rely _______ him; he is not trustworthy.", options: ["on", "in", "at", "to"], a: "on" },
    { type: 'mcq', q: "Congratulate him _______ his success.", options: ["on", "in", "at", "with"], a: "on" },
    { type: 'mcq', q: "This area is famous _______ apples.", options: ["for", "with", "about", "to"], a: "for" },
    { type: 'mcq', q: "The room was crowded _______ people.", options: ["with", "of", "in", "about"], a: "with" },
    { type: 'mcq', q: "I am bored _______ this game.", options: ["with", "about", "of", "in"], a: "with" },
    { type: 'mcq', q: "Are you addicted _______ video games?", options: ["to", "with", "on", "in"], a: "to" },
    { type: 'mcq', q: "He is brilliant _______ fixing computers.", options: ["at", "in", "on", "with"], a: "at" },
    { type: 'mcq', q: "She is afraid _______ the dark.", options: ["of", "on", "at", "in"], a: "of" },

    // --- PH·∫¶N 34: S·∫ÆP X·∫æP C√ÇU (SCRAMBLE) - C·∫§U TR√öC PH·ª®C T·∫†P ---
    { type: 'scramble', q: "Arrange: mind / Would / you / if / I / opened / window / the / ?", a: "Would you mind if I opened the window ?" },
    { type: 'scramble', q: "Arrange: advised / The / doctor / me / to / up / give / smoking", a: "The doctor advised me to give up smoking" },
    { type: 'scramble', q: "Arrange: difficult / It / is / for / me / to / learn / English", a: "It is difficult for me to learn English" },
    { type: 'scramble', q: "Arrange: saw / I / him / crossing / the / street / yesterday", a: "I saw him crossing the street yesterday" },
    { type: 'scramble', q: "Arrange: made / The / sad / film / us / cry", a: "The sad film made us cry" },
    { type: 'scramble', q: "Arrange: spite / In / of / being / tired / he / worked / hard", a: "In spite of being tired he worked hard" },
    { type: 'scramble', q: "Arrange: used / This / knife / is / for / cutting / bread", a: "This knife is used for cutting bread" },
    { type: 'scramble', q: "Arrange: necessary / It / is / to / protect / environment / the", a: "It is necessary to protect the environment" },
    { type: 'scramble', q: "Arrange: last / When / did / you / see / her / ?", a: "When did you last see her ?" },
    { type: 'scramble', q: "Arrange: How / is / far / it / from / here / to / school / ?", a: "How far is it from here to school ?" },

    // --- PH·∫¶N 35: C√ÅC D·∫†NG C√ÇU H·ªéI KH√ÅC (TAGS, ARTICLES - EXCEPTIONS) ---
    { type: 'mcq', q: "Let's go, _______?", options: ["shall we", "will we", "do we", "don't we"], a: "shall we" },
    { type: 'mcq', q: "Don't touch that, _______?", options: ["will you", "do you", "don't you", "are you"], a: "will you" },
    { type: 'mcq', q: "I am late, _______?", options: ["aren't I", "am I not", "am not I", "don't I"], a: "aren't I" },
    { type: 'mcq', q: "Nobody is here, _______?", options: ["are they", "is he", "isn't he", "aren't they"], a: "are they" },
    { type: 'mcq', q: "He went to _______ prison to visit his brother.", options: ["the", "a", "an", "x"], a: "the" },
    { type: 'mcq', q: "He went to _______ prison for stealing cars.", options: ["x", "the", "a", "an"], a: "x" },
    { type: 'mcq', q: "She plays _______ violin very well.", options: ["the", "a", "an", "x"], a: "the" },
    { type: 'mcq', q: "I usually have _______ breakfast at 7 a.m.", options: ["x", "the", "a", "an"], a: "x" },
    { type: 'mcq', q: "_______ poor need our help.", options: ["The", "A", "An", "x"], a: "The" },
    { type: 'mcq', q: "Lake Baikal is _______ deepest lake in the world.", options: ["the", "a", "an", "x"], a: "the" },

    // --- PH·∫¶N 36: IDIOMS (TH√ÄNH NG·ªÆ) - MCQ ---
    { type: 'mcq', q: "The test was a piece of _______.", options: ["cake", "candy", "cheese", "chalk"], a: "cake" },
    { type: 'mcq', q: "It's raining cats and _______.", options: ["dogs", "mice", "birds", "cows"], a: "dogs" },
    { type: 'mcq', q: "I'm feeling under the _______ today.", options: ["weather", "rain", "sun", "cloud"], a: "weather" },
    { type: 'mcq', q: "Don't judge a book by its _______.", options: ["cover", "title", "pages", "content"], a: "cover" },
    { type: 'mcq', q: "Break a _______ ! (Good luck)", options: ["leg", "arm", "hand", "head"], a: "leg" },
    { type: 'mcq', q: "He let the cat out of the _______.", options: ["bag", "box", "house", "cage"], a: "bag" },
    { type: 'mcq', q: "Better late than _______.", options: ["never", "ever", "later", "now"], a: "never" },
    { type: 'mcq', q: "No pain, no _______.", options: ["gain", "loss", "game", "rain"], a: "gain" },
    { type: 'mcq', q: "Costs an arm and a _______.", options: ["leg", "foot", "hand", "finger"], a: "leg" },
    { type: 'mcq', q: "Once in a blue _______.", options: ["moon", "sky", "sea", "sun"], a: "moon" },
    { type: 'mcq', q: "When pigs _______ !", options: ["fly", "run", "walk", "swim"], a: "fly" },
    { type: 'mcq', q: "A hot _______ (a difficult issue).", options: ["potato", "dog", "cake", "chili"], a: "potato" },
    { type: 'mcq', q: "Hit the _______ (go to bed).", options: ["hay", "wood", "grass", "sand"], a: "hay" },
    { type: 'mcq', q: "Spill the _______ (reveal a secret).", options: ["beans", "peas", "milk", "tea"], a: "beans" },
    { type: 'mcq', q: "See eye to _______.", options: ["eye", "ear", "face", "nose"], a: "eye" },

    // --- PH·∫¶N 37: COLLOCATIONS (C·ª§M T·ª™ C·ªê ƒê·ªäNH) - MCQ ---
    { type: 'mcq', q: "Please _______ an effort to finish the work.", options: ["make", "do", "create", "have"], a: "make" },
    { type: 'mcq', q: "I need to _______ the dishes.", options: ["do", "make", "take", "get"], a: "do" },
    { type: 'mcq', q: "She _______ a mistake.", options: ["made", "did", "caused", "took"], a: "made" },
    { type: 'mcq', q: "He _______ a promise to help me.", options: ["made", "did", "said", "took"], a: "made" },
    { type: 'mcq', q: "Don't _______ noise in the library.", options: ["make", "do", "cause", "create"], a: "make" },
    { type: 'mcq', q: "Can you _______ me a favor?", options: ["do", "make", "give", "help"], a: "do" },
    { type: 'mcq', q: "We need to _______ action now.", options: ["take", "make", "do", "give"], a: "take" },
    { type: 'mcq', q: "He _______ attention to the teacher.", options: ["paid", "gave", "took", "made"], a: "paid" },
    { type: 'mcq', q: "She _______ her best to win.", options: ["did", "made", "tried", "worked"], a: "did" },
    { type: 'mcq', q: "I _______ a headache.", options: ["have", "make", "do", "take"], a: "have" },
    { type: 'mcq', q: "Let's _______ a break.", options: ["take", "make", "do", "get"], a: "take" },
    { type: 'mcq', q: "He _______ advantage of the opportunity.", options: ["took", "made", "did", "got"], a: "took" },
    { type: 'mcq', q: "She _______ care of her younger sister.", options: ["takes", "makes", "does", "gives"], a: "takes" },
    { type: 'mcq', q: "I _______ my homework yesterday.", options: ["did", "made", "wrote", "finished"], a: "did" },
    { type: 'mcq', q: "We should _______ use of solar energy.", options: ["make", "take", "do", "get"], a: "make" },

    // --- PH·∫¶N 38: CONFUSING WORDS (T·ª™ D·ªÑ G√ÇY NH·∫¶M L·∫™N) - MCQ ---
    { type: 'mcq', q: "The weather will _______ our plans.", options: ["affect", "effect", "effective", "affection"], a: "affect" },
    { type: 'mcq', q: "The _______ of the pollution was terrible.", options: ["effect", "affect", "affective", "effectively"], a: "effect" },
    { type: 'mcq', q: "Can you give me some _______?", options: ["advice", "advise", "adviser", "advising"], a: "advice" },
    { type: 'mcq', q: "I _______ you to study hard.", options: ["advise", "advice", "advisor", "advisable"], a: "advise" },
    { type: 'mcq', q: "The Sahara is a huge _______.", options: ["desert", "dessert", "deserted", "deserts"], a: "desert" },
    { type: 'mcq', q: "I like ice cream for _______.", options: ["dessert", "desert", "deserts", "deserting"], a: "dessert" },
    { type: 'mcq', q: "Please be _______ in the library.", options: ["quiet", "quite", "quit", "quietly"], a: "quiet" },
    { type: 'mcq', q: "He is _______ tall.", options: ["quite", "quiet", "quit", "quietness"], a: "quite" },
    { type: 'mcq', q: "He _______ his bag on the table.", options: ["laid", "lay", "lied", "lain"], a: "laid" },
    { type: 'mcq', q: "She _______ down on the bed because she was tired.", options: ["lay", "laid", "lied", "lain"], a: "lay" },
    { type: 'mcq', q: "Don't _______ to me!", options: ["lie", "lay", "laid", "lain"], a: "lie" },
    { type: 'mcq', q: "The sun _______ in the East.", options: ["rises", "raises", "arises", "rose"], a: "rises" },
    { type: 'mcq', q: "Please _______ your hand if you know the answer.", options: ["raise", "rise", "arise", "rose"], a: "raise" },
    { type: 'mcq', q: "I _______ money from the bank.", options: ["borrowed", "lent", "rented", "hired"], a: "borrowed" },
    { type: 'mcq', q: "He _______ me his car.", options: ["lent", "borrowed", "rented", "hired"], a: "lent" },

    // --- PH·∫¶N 39: SUBJUNCTIVE (TH·ª®C GI·∫¢ ƒê·ªäNH) - MCQ ---
    { type: 'mcq', q: "I suggest that he _______ harder.", options: ["study", "studies", "studied", "studying"], a: "study" },
    { type: 'mcq', q: "It is essential that she _______ here on time.", options: ["be", "is", "was", "were"], a: "be" },
    { type: 'mcq', q: "The doctor recommended that he _______ smoking.", options: ["stop", "stops", "stopped", "stopping"], a: "stop" },
    { type: 'mcq', q: "I demand that I _______ allowed to speak.", options: ["be", "am", "was", "were"], a: "be" },
    { type: 'mcq', q: "It is important that everyone _______ the rules.", options: ["follow", "follows", "followed", "following"], a: "follow" },
    { type: 'mcq', q: "God _______ the Queen!", options: ["save", "saves", "saved", "saving"], a: "save" },
    { type: 'mcq', q: "It is necessary that he _______ the truth.", options: ["find", "finds", "found", "finding"], a: "find" },
    { type: 'mcq', q: "The teacher insisted that the homework _______ done.", options: ["be", "is", "was", "were"], a: "be" },
    { type: 'mcq', q: "I propose that we _______ a meeting.", options: ["hold", "held", "holds", "holding"], a: "hold" },
    { type: 'mcq', q: "It is vital that she _______ informed.", options: ["be", "is", "was", "were"], a: "be" },

    // --- PH·∫¶N 40: QUANTIFIERS (L∆Ø·ª¢NG T·ª™) - MCQ ---
    { type: 'mcq', q: "There is _______ water in the bottle.", options: ["some", "many", "few", "a few"], a: "some" },
    { type: 'mcq', q: "I don't have _______ money.", options: ["any", "some", "many", "few"], a: "any" },
    { type: 'mcq', q: "How _______ students are there in your class?", options: ["many", "much", "little", "a little"], a: "many" },
    { type: 'mcq', q: "How _______ time do you have?", options: ["much", "many", "few", "a few"], a: "much" },
    { type: 'mcq', q: "There are _______ people in the room.", options: ["a lot of", "much", "a little", "little"], a: "a lot of" },
    { type: 'mcq', q: "_______ of the students passed the exam.", options: ["Most", "Almost", "The most", "Mostly"], a: "Most" },
    { type: 'mcq', q: "He has _______ friends.", options: ["many", "much", "a little", "little"], a: "many" },
    { type: 'mcq', q: "There is _______ sugar left.", options: ["little", "few", "many", "a few"], a: "little" },
    { type: 'mcq', q: "_______ student must wear a uniform.", options: ["Every", "All", "Many", "Some"], a: "Every" },
    { type: 'mcq', q: "_______ birds can fly.", options: ["Most", "The most", "Almost", "Mostly"], a: "Most" },

    // --- PH·∫¶N 41: WORD FORMATION (C·∫§U T·∫†O T·ª™ - DANH/ƒê·ªòNG/T√çNH) ---
    { type: 'mcq', q: "He is a very _______ person.", options: ["success", "succeed", "successful", "successfully"], a: "successful" },
    { type: 'mcq', q: "Her _______ makes everyone happy.", options: ["happy", "happiness", "happily", "unhappy"], a: "happiness" },
    { type: 'mcq', q: "We need more _______ about the product.", options: ["inform", "information", "informative", "informer"], a: "information" },
    { type: 'mcq', q: "Smoking is _______ to your health.", options: ["harm", "harmful", "harmless", "harmfully"], a: "harmful" },
    { type: 'mcq', q: "He drives _______.", options: ["care", "careful", "carelessly", "careless"], a: "carelessly" },
    { type: 'mcq', q: "The _______ of the internet changed the world.", options: ["invent", "invention", "inventor", "inventive"], a: "invention" },
    { type: 'mcq', q: "She is a famous _______.", options: ["act", "actress", "action", "acting"], a: "actress" },
    { type: 'mcq', q: "Music is a source of _______.", options: ["entertain", "entertainment", "entertaining", "entertainer"], a: "entertainment" },
    { type: 'mcq', q: "He has a good _______ of history.", options: ["know", "knowledge", "known", "knowing"], a: "knowledge" },
    { type: 'mcq', q: "They live in a _______ neighborhood.", options: ["peace", "peaceful", "peacefully", "pacify"], a: "peaceful" },
    { type: 'mcq', q: "The _______ of the problem is unknown.", options: ["explain", "explanation", "explanatory", "explicable"], a: "explanation" },
    { type: 'mcq', q: "He is a _______ driver.", options: ["experience", "experienced", "experiencing", "experiences"], a: "experienced" },
    { type: 'mcq', q: "What is the _______ between them?", options: ["differ", "difference", "different", "differently"], a: "difference" },
    { type: 'mcq', q: "She sings with great _______.", options: ["confide", "confidence", "confident", "confidently"], a: "confidence" },
    { type: 'mcq', q: "It was a _______ decision.", options: ["danger", "dangerous", "endanger", "dangerously"], a: "dangerous" },

    // --- PH·∫¶N 42: SCRAMBLE (S·∫ÆP X·∫æP T·ª™ N√ÇNG CAO) ---
    { type: 'scramble', q: "Arrange: matter / No / how / he / tried / hard / failed / he", a: "No matter how hard he tried he failed" },
    { type: 'scramble', q: "Arrange: point / There / is / no / in / arguing / him / with", a: "There is no point in arguing with him" },
    { type: 'scramble', q: "Arrange: worth / It / is / not / buying / that / car", a: "It is not worth buying that car" },
    { type: 'scramble', q: "Arrange: succeed / I / sure / am / that / will / he", a: "I am sure that he will succeed" },
    { type: 'scramble', q: "Arrange: accused / He / stealing / of / her / money / the", a: "He accused her of stealing the money" },
    { type: 'scramble', q: "Arrange: apologized / She / for / late / being / meeting / the / for", a: "She apologized for being late for the meeting" },
    { type: 'scramble', q: "Arrange: warned / The / us / police / against / out / going / night / at", a: "The police warned us against going out at night" },
    { type: 'scramble', q: "Arrange: prevented / The / rain / heavy / us / from / playing", a: "The heavy rain prevented us from playing" },
    { type: 'scramble', q: "Arrange: thanked / He / me / for / him / helping", a: "He thanked me for helping him" },
    { type: 'scramble', q: "Arrange: congratulate / I / you / on / passing / exam / the", a: "I congratulate you on passing the exam" },
    { type: 'scramble', q: "Arrange: insisted / She / on / for / paying / dinner / the", a: "She insisted on paying for the dinner" },
    { type: 'scramble', q: "Arrange: object / Do / you / to / smoking / here / ?", a: "Do you object to smoking here ?" },
    { type: 'scramble', q: "Arrange: looking / I / am / forward / seeing / to / again / you", a: "I am looking forward to seeing you again" },
    { type: 'scramble', q: "Arrange: used / He / is / to / driving / left / on / the", a: "He is used to driving on the left" },
    { type: 'scramble', q: "Arrange: prefer / I / watching / TV / reading / to / books", a: "I prefer watching TV to reading books" },

    // --- PH·∫¶N 43: ERROR IDENTIFICATION (T√åM L·ªñI SAI N√ÇNG CAO) ---
    { type: 'error', q: "There (A)is (B)so many (C)people (D)in the room.", parts: ["is", "so many", "people", "in the room"], a: "is", full: "There <u>are</u> so many people in the room." },
    { type: 'error', q: "The number of (A)students (B)are (C)increasing (D)rapidly.", parts: ["students", "are", "increasing", "rapidly"], a: "are", full: "The number of students <u>is</u> increasing rapidly." },
    { type: 'error', q: "A number of (A)students (B)is (C)playing (D)football.", parts: ["students", "is", "playing", "football"], a: "is", full: "A number of students <u>are</u> playing football." },
    { type: 'error', q: "Either you (A)or (B)he (C)are (D)wrong.", parts: ["or", "he", "are", "wrong"], a: "are", full: "Either you or he <u>is</u> wrong." },
    { type: 'error', q: "Five kilometers (A)are (B)not (C)a long (D)distance.", parts: ["are", "not", "a long", "distance"], a: "are", full: "Five kilometers <u>is</u> not a long distance." },
    { type: 'error', q: "Physics (A)are (B)my (C)favorite (D)subject.", parts: ["are", "my", "favorite", "subject"], a: "are", full: "Physics <u>is</u> my favorite subject." },
    { type: 'error', q: "The police (A)is (B)investigating (C)the (D)crime.", parts: ["is", "investigating", "the", "crime"], a: "is", full: "The police <u>are</u> investigating the crime." },
    { type: 'error', q: "Cattle (A)is (B)grazing (C)in (D)the field.", parts: ["is", "grazing", "in", "the field"], a: "is", full: "Cattle <u>are</u> grazing in the field." },
    { type: 'error', q: "Everyone (A)have (B)to (C)finish (D)the test.", parts: ["have", "to", "finish", "the test"], a: "have", full: "Everyone <u>has</u> to finish the test." },
    { type: 'error', q: "None of (A)the information (B)are (C)correct (D)now.", parts: ["the information", "are", "correct", "now"], a: "are", full: "None of the information <u>is</u> correct now." },

    // --- PH·∫¶N 44: ADVANCED VOCABULARY (T·ª™ V·ª∞NG N√ÇNG CAO) ---
    { type: 'mcq', q: "The traffic is _______ at this time of day.", options: ["heavy", "strong", "thick", "hard"], a: "heavy" },
    { type: 'mcq', q: "She has a very _______ imagination.", options: ["vivid", "live", "bright", "strong"], a: "vivid" },
    { type: 'mcq', q: "I have a _______ headache.", options: ["splitting", "breaking", "cracking", "burning"], a: "splitting" },
    { type: 'mcq', q: "He was _______ with envy.", options: ["green", "red", "blue", "black"], a: "green" },
    { type: 'mcq', q: "I caught a _______ of him in the crowd.", options: ["glimpse", "look", "sight", "view"], a: "glimpse" },
    { type: 'mcq', q: "She _______ into tears when she heard the news.", options: ["burst", "broke", "exploded", "went"], a: "burst" },
    { type: 'mcq', q: "Please _______ an eye on my bag.", options: ["keep", "hold", "put", "set"], a: "keep" },
    { type: 'mcq', q: "He _______ his promise.", options: ["broke", "cracked", "smashed", "cut"], a: "broke" },
    { type: 'mcq', q: "I lost my _______ and shouted at him.", options: ["temper", "mood", "feeling", "sense"], a: "temper" },
    { type: 'mcq', q: "She _______ a deep breath.", options: ["took", "made", "did", "put"], a: "took" },

    // --- PH·∫¶N 45: COLLOCATIONS & PHRASES (C·ª§M T·ª™) ---
    { type: 'mcq', q: "It's common _______ to shake hands.", options: ["knowledge", "sense", "fact", "understanding"], a: "knowledge" },
    { type: 'mcq', q: "Make yourself at _______.", options: ["home", "house", "place", "room"], a: "home" },
    { type: 'mcq', q: "He is strictly _______ a diet.", options: ["on", "in", "at", "with"], a: "on" },
    { type: 'mcq', q: "I am _______ of breath after running.", options: ["out", "short", "lacking", "lost"], a: "out" },
    { type: 'mcq', q: "Don't _______ fun of him.", options: ["make", "do", "get", "have"], a: "make" },
    { type: 'mcq', q: "He set _______ to the building.", options: ["fire", "flame", "light", "burn"], a: "fire" },
    { type: 'mcq', q: "She _______ weight recently.", options: ["gained", "got", "took", "made"], a: "gained" },
    { type: 'mcq', q: "I _______ a cold last week.", options: ["caught", "got", "took", "had"], a: "caught" },
    { type: 'mcq', q: "It _______ sense to save money.", options: ["makes", "does", "gives", "takes"], a: "makes" },
    { type: 'mcq', q: "Time _______ when you're having fun.", options: ["flies", "runs", "goes", "moves"], a: "flies" },

    // --- PH·∫¶N 46: PREPOSITIONS - ADVANCED (GI·ªöI T·ª™ KH√ì) ---
    { type: 'mcq', q: "He is absorbed _______ his work.", options: ["in", "at", "on", "with"], a: "in" },
    { type: 'mcq', q: "She is accused _______ stealing.", options: ["of", "for", "with", "about"], a: "of" },
    { type: 'mcq', q: "I am not accustomed _______ this weather.", options: ["to", "with", "for", "in"], a: "to" },
    { type: 'mcq', q: "He is acquainted _______ the manager.", options: ["with", "to", "about", "for"], a: "with" },
    { type: 'mcq', q: "I am allergic _______ cats.", options: ["to", "with", "for", "about"], a: "to" },
    { type: 'mcq', q: "He is anxious _______ the exam results.", options: ["about", "for", "of", "with"], a: "about" },
    { type: 'mcq', q: "She is ashamed _______ her behavior.", options: ["of", "for", "with", "about"], a: "of" },
    { type: 'mcq', q: "The film is based _______ a true story.", options: ["on", "in", "at", "to"], a: "on" },
    { type: 'mcq', q: "He is capable _______ winning.", options: ["of", "in", "at", "for"], a: "of" },
    { type: 'mcq', q: "The city is crowded _______ tourists.", options: ["with", "of", "in", "by"], a: "with" },

    // --- PH·∫¶N 47: WORD FORMATION - NOUNS (DANH T·ª™) ---
    { type: 'mcq', q: "The _______ of the bridge took two years.", options: ["construct", "construction", "constructive", "constructor"], a: "construction" },
    { type: 'mcq', q: "He gave a detailed _______ of the thief.", options: ["describe", "description", "descriptive", "descriptively"], a: "description" },
    { type: 'mcq', q: "_______ is better than cure.", options: ["Prevent", "Prevention", "Preventive", "Preventing"], a: "Prevention" },
    { type: 'mcq', q: "There is a growing _______ for organic food.", options: ["demand", "demanding", "demanded", "demands"], a: "demand" },
    { type: 'mcq', q: "His _______ was a shock to everyone.", options: ["dead", "death", "die", "dying"], a: "death" },
    { type: 'mcq', q: "I need your _______ on this matter.", options: ["decide", "decision", "decisive", "decisively"], a: "decision" },
    { type: 'mcq', q: "She works in the _______ department.", options: ["educate", "education", "educational", "educator"], a: "education" },
    { type: 'mcq', q: "Thank you for your _______.", options: ["kind", "kindness", "kindly", "kinder"], a: "kindness" },
    { type: 'mcq', q: "He spoke with great _______.", options: ["sad", "sadness", "sadly", "sadden"], a: "sadness" },
    { type: 'mcq', q: "The _______ of the river is 500km.", options: ["long", "length", "lengthen", "lengthy"], a: "length" },

    // --- PH·∫¶N 48: WORD FORMATION - ADJECTIVES (T√çNH T·ª™) ---
    { type: 'mcq', q: "The movie was very _______.", options: ["impress", "impressive", "impression", "impressed"], a: "impressive" },
    { type: 'mcq', q: "He is a _______ football player.", options: ["profession", "professional", "professor", "professionally"], a: "professional" },
    { type: 'mcq', q: "Be _______ with your money.", options: ["care", "careful", "careless", "carefully"], a: "careful" },
    { type: 'mcq', q: "This chair is very _______.", options: ["comfort", "comfortable", "comfortably", "discomfort"], a: "comfortable" },
    { type: 'mcq', q: "She is extremely _______.", options: ["create", "creative", "creation", "creator"], a: "creative" },
    { type: 'mcq', q: "The soup is too _______.", options: ["salt", "salty", "salted", "salting"], a: "salty" },
    { type: 'mcq', q: "He is a _______ boy.", options: ["health", "healthy", "healthily", "unhealthy"], a: "healthy" },
    { type: 'mcq', q: "It was a _______ mistake.", options: ["fool", "foolish", "foolishly", "fooled"], a: "foolish" },
    { type: 'mcq', q: "The view is _______.", options: ["beauty", "beautiful", "beautify", "beautifully"], a: "beautiful" },
    { type: 'mcq', q: "He is _______ to his friends.", options: ["loyalty", "loyal", "loyally", "disloyal"], a: "loyal" },

    // --- PH·∫¶N 49: PHRASAL VERBS (TI·∫æP THEO) ---
    { type: 'mcq', q: "He _______ the problem.", options: ["pointed out", "pointed at", "pointed to", "pointed in"], a: "pointed out" },
    { type: 'mcq', q: "The car _______ on the highway.", options: ["broke down", "broke up", "broke off", "broke out"], a: "broke down" },
    { type: 'mcq', q: "Thieves _______ the house last night.", options: ["broke into", "broke out", "broke up", "broke down"], a: "broke into" },
    { type: 'mcq', q: "War _______ in 1939.", options: ["broke out", "broke in", "broke up", "broke down"], a: "broke out" },
    { type: 'mcq', q: "They _______ last week. (ended relationship)", options: ["broke up", "broke down", "broke out", "broke off"], a: "broke up" },
    { type: 'mcq', q: "He _______ with a new idea.", options: ["came up", "came in", "came on", "came out"], a: "came up" },
    { type: 'mcq', q: "The truth finally _______.", options: ["came out", "came in", "came up", "came on"], a: "came out" },
    { type: 'mcq', q: "I _______ an old friend yesterday.", options: ["ran into", "ran out", "ran over", "ran away"], a: "ran into" },
    { type: 'mcq', q: "Please _______ the form.", options: ["fill in", "fill up", "fill on", "fill at"], a: "fill in" },
    { type: 'mcq', q: "He _______ smoking.", options: ["gave up", "gave in", "gave out", "gave away"], a: "gave up" },

    // --- PH·∫¶N 50: SENTENCE SCRAMBLE - MIXED (S·∫ÆP X·∫æP C√ÇU H·ªñN H·ª¢P) ---
    { type: 'scramble', q: "Arrange: like / Would / to / you / come / dinner / for / ?", a: "Would you like to come for dinner ?" },
    { type: 'scramble', q: "Arrange: mind / Do / you / if / I / sit / here / ?", a: "Do you mind if I sit here ?" },
    { type: 'scramble', q: "Arrange: time / What / does / film / the / start / ?", a: "What time does the film start ?" },
    { type: 'scramble', q: "Arrange: long / How / have / lived / you / here / ?", a: "How long have you lived here ?" },
    { type: 'scramble', q: "Arrange: often / How / do / go / you / cinema / the / to / ?", a: "How often do you go to the cinema ?" },
    { type: 'scramble', q: "Arrange: father / My / a / works / as / doctor / hospital / a / in", a: "My father works as a doctor in a hospital" },
    { type: 'scramble', q: "Arrange: going / We / are / to / travel / summer / next / Paris / to", a: "We are going to travel to Paris next summer" },
    { type: 'scramble', q: "Arrange: enjoy / I / reading / in / books / free / time / my", a: "I enjoy reading books in my free time" },
    { type: 'scramble', q: "Arrange: weather / The / is / today / very / beautiful", a: "The weather today is very beautiful" },
    { type: 'scramble', q: "Arrange: car / This / belongs / to / brother / my", a: "This car belongs to my brother" },

    // --- PH·∫¶N 51: ERROR IDENTIFICATION - MIXED (T√åM L·ªñI SAI) ---
    { type: 'error', q: "He (A)has (B)lived (C)here (D)since 10 years.", parts: ["has", "lived", "here", "since"], a: "since", full: "He has lived here <u>for</u> 10 years." },
    { type: 'error', q: "I (A)am (B)not (C)agree (D)with you.", parts: ["am", "not", "agree", "with"], a: "am", full: "I <u>do</u> not agree with you." },
    { type: 'error', q: "She (A)can (B)drives (C)a (D)car.", parts: ["can", "drives", "a", "car"], a: "drives", full: "She can <u>drive</u> a car." },
    { type: 'error', q: "We (A)go (B)to (C)school (D)by foot.", parts: ["go", "to", "school", "by foot"], a: "by foot", full: "We go to school <u>on foot</u>." },
    { type: 'error', q: "He (A)plays (B)soccer (C)very (D)good.", parts: ["plays", "soccer", "very", "good"], a: "good", full: "He plays soccer very <u>well</u>." },
    { type: 'error', q: "My (A)father (B)don't (C)like (D)coffee.", parts: ["father", "don't", "like", "coffee"], a: "don't", full: "My father <u>doesn't</u> like coffee." },
    { type: 'error', q: "Where (A)you (B)went (C)last (D)Sunday?", parts: ["you", "went", "last", "Sunday"], a: "went", full: "Where <u>did you go</u> last Sunday?" },
    { type: 'error', q: "She (A)is (B)more (C)tall (D)than me.", parts: ["is", "more", "tall", "than"], a: "more", full: "She is <u>taller</u> than me." },
    { type: 'error', q: "There (A)is (B)many (C)books (D)on the table.", parts: ["is", "many", "books", "on"], a: "is", full: "There <u>are</u> many books on the table." },
    { type: 'error', q: "I (A)wish (B)I (C)can (D)speak French.", parts: ["wish", "I", "can", "speak"], a: "can", full: "I wish I <u>could</u> speak French." },

    // --- PH·∫¶N 52: GENERAL KNOWLEDGE (KI·∫æN TH·ª®C CHUNG) ---
    { type: 'mcq', q: "The sun sets in the _______.", options: ["East", "West", "North", "South"], a: "West" },
    { type: 'mcq', q: "Hanoi is the capital of _______.", options: ["Vietnam", "Thailand", "China", "Japan"], a: "Vietnam" },
    { type: 'mcq', q: "Water boils at _______ degrees Celsius.", options: ["100", "90", "50", "0"], a: "100" },
    { type: 'mcq', q: "How many days are there in a week?", options: ["7", "6", "5", "8"], a: "7" },
    { type: 'mcq', q: "February has _______ days in a leap year.", options: ["29", "28", "30", "31"], a: "29" },
    { type: 'mcq', q: "Who wrote 'Romeo and Juliet'?", options: ["Shakespeare", "Dickens", "Twain", "Hemingway"], a: "Shakespeare" },
    { type: 'mcq', q: "What is the biggest ocean in the world?", options: ["Pacific", "Atlantic", "Indian", "Arctic"], a: "Pacific" },
    { type: 'mcq', q: "Which animal is the King of the Jungle?", options: ["Lion", "Tiger", "Elephant", "Bear"], a: "Lion" },
    { type: 'mcq', q: "The Statue of Liberty is in _______.", options: ["New York", "London", "Paris", "Tokyo"], a: "New York" },
    { type: 'mcq', q: "The Great Wall is in _______.", options: ["China", "India", "Japan", "Egypt"], a: "China" },

    // --- PH·∫¶N 53: SYNONYMS & ANTONYMS (ƒê·ªíNG NGHƒ®A - TR√ÅI NGHƒ®A) ---
    { type: 'mcq', q: "Synonym of 'Fast': He runs very *fast*.", options: ["quick", "slow", "heavy", "weak"], a: "quick" },
    { type: 'mcq', q: "Synonym of 'Huge': A *huge* building.", options: ["enormous", "tiny", "small", "short"], a: "enormous" },
    { type: 'mcq', q: "Synonym of 'Rich': A *rich* family.", options: ["wealthy", "poor", "needy", "bad"], a: "wealthy" },
    { type: 'mcq', q: "Synonym of 'Afraid': She is *afraid* of spiders.", options: ["scared", "happy", "angry", "sad"], a: "scared" },
    { type: 'mcq', q: "Synonym of 'Start': When does the movie *start*?", options: ["begin", "end", "finish", "stop"], a: "begin" },
    { type: 'mcq', q: "Antonym of 'Early': He arrived *early*.", options: ["late", "soon", "fast", "before"], a: "late" },
    { type: 'mcq', q: "Antonym of 'Hard': The bed is too *hard*.", options: ["soft", "tough", "solid", "difficult"], a: "soft" },
    { type: 'mcq', q: "Antonym of 'Clean': The room is very *clean*.", options: ["dirty", "neat", "tidy", "bright"], a: "dirty" },
    { type: 'mcq', q: "Antonym of 'Full': The glass is *full*.", options: ["empty", "filled", "crowded", "heavy"], a: "empty" },
    { type: 'mcq', q: "Antonym of 'Strong': He is not *strong* enough.", options: ["weak", "powerful", "big", "heavy"], a: "weak" },

    // --- PH·∫¶N 54: MIXED GRAMMAR (NG·ªÆ PH√ÅP T·ªîNG H·ª¢P) ---
    { type: 'mcq', q: "I haven't seen him _______ ages.", options: ["for", "since", "in", "during"], a: "for" },
    { type: 'mcq', q: "We arrived _______ London at 6 p.m.", options: ["in", "at", "to", "on"], a: "in" }, 
    { type: 'mcq', q: "We arrived _______ the airport early.", options: ["at", "in", "to", "on"], a: "at" }, 
    { type: 'mcq', q: "He is _______ teacher I told you about.", options: ["the", "a", "an", "x"], a: "the" },
    { type: 'mcq', q: "She went _______ home.", options: ["x", "to", "at", "in"], a: "x" },
    { type: 'mcq', q: "Look _______ ! There's a car coming.", options: ["out", "up", "after", "for"], a: "out" },
    { type: 'mcq', q: "I am fed _______ with this food.", options: ["up", "out", "in", "on"], a: "up" },
    { type: 'mcq', q: "It depends _______ the weather.", options: ["on", "in", "at", "to"], a: "on" },
    { type: 'mcq', q: "He is famous _______ his songs.", options: ["for", "with", "about", "in"], a: "for" },
    { type: 'mcq', q: "She is good _______ English.", options: ["at", "in", "on", "with"], a: "at" },
    
    // --- PH·∫¶N 55: SCRAMBLE - FINAL (S·∫ÆP X·∫æP C√ÇU CU·ªêI) ---
    { type: 'scramble', q: "Arrange: not / I / did / go / yesterday / school / to", a: "I did not go to school yesterday" },
    { type: 'scramble', q: "Arrange: was / He / born / May / in / 1990", a: "He was born in May 1990" },
    { type: 'scramble', q: "Arrange: like / I / would / cup / a / of / tea", a: "I would like a cup of tea" },
    { type: 'scramble', q: "Arrange: beautiful / What / a / day / !", a: "What a beautiful day !" },
    { type: 'scramble', q: "Arrange: intelligent / How / is / she / !", a: "How intelligent she is !" },
    { type: 'scramble', q: "Arrange: must / You / wear / uniform / a / school / at", a: "You must wear a uniform at school" },
    { type: 'scramble', q: "Arrange: should / You / brush / teeth / your / day / every", a: "You should brush your teeth every day" },
    { type: 'scramble', q: "Arrange: can / He / speak / languages / three", a: "He can speak three languages" },
    { type: 'scramble', q: "Arrange: will / I / call / you / tomorrow", a: "I will call you tomorrow" },
    { type: 'scramble', q: "Arrange: finished / Have / you / homework / your / yet / ?", a: "Have you finished your homework yet ?" } 
];

        // --- GAME VARIABLES ---
        let currentUser = { name: "", class: "" };
        let currentLevel = 1;
        let score = 0;
        let gems = 0;
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let timerInterval;
        let timeLeft = 1500; // 25 ph√∫t = 1500 gi√¢y
        let isMusicPlaying = false;
        let audio = document.getElementById("bgMusic");

        // --- SYSTEM FUNCTIONS ---

        function toggleMusic() {
            if (isMusicPlaying) {
                audio.pause();
                document.querySelector('.music-toggle').innerHTML = 'üîá';
                document.querySelector('.music-toggle').style.borderColor = '#ff4757';
            } else {
                audio.play().catch(e => console.log("Audio play failed interaction needed"));
                document.querySelector('.music-toggle').innerHTML = 'üéµ';
                document.querySelector('.music-toggle').style.borderColor = '#2ed573';
            }
            isMusicPlaying = !isMusicPlaying;
        }

        function switchScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function checkLogin() {
            const name = document.getElementById('username').value.trim();
            const cls = document.getElementById('userclass').value.trim();
            if (name && cls) {
                currentUser.name = name;
                currentUser.class = cls;
                startGame();
            } else {
                alert("Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß H·ªç t√™n v√† L·ªõp!");
            }
        }

        function showLogin() { switchScreen('login-screen'); }

        function showLeaderboard() {
            switchScreen('leaderboard-screen');
            updateLeaderboardTable();
        }

        function updateLeaderboardTable() {
            const tbody = document.querySelector('#leaderboard-table tbody');
            tbody.innerHTML = '';
            let data = JSON.parse(localStorage.getItem('cyberEnglish_leaderboard')) || [];
            data.sort((a, b) => b.score - a.score);
            
            data.slice(0, 10).forEach((p, index) => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${p.name}</td>
                    <td>${p.class}</td>
                    <td>${p.score}</td>
                `;
                tbody.appendChild(tr);
            });
        }

        function saveScore() {
            let data = JSON.parse(localStorage.getItem('cyberEnglish_leaderboard')) || [];
            data.push({
                name: currentUser.name,
                class: currentUser.class,
                score: score,
                timestamp: new Date().getTime()
            });
            localStorage.setItem('cyberEnglish_leaderboard', JSON.stringify(data));
        }

        // --- GAMEPLAY LOGIC ---

        function startGame() {
            score = 0;
            currentLevel = 1;
            gems = 0;
            document.getElementById('score-display').innerText = score;
            document.getElementById('gem-display').innerText = gems;
            startLevel();
        }

        function startLevel() {
            switchScreen('game-screen');
            document.getElementById('level-display').innerText = currentLevel;
            timeLeft = 1500; // Reset 25 ph√∫t
            updateTimerDisplay();
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    alert("H·∫øt gi·ªù! B·∫°n ph·∫£i l√†m l·∫°i b·ªô c√¢u h·ªèi m·ªõi.");
                    startLevel(); // Restart level
                }
            }, 1000);

            // Ch·ªçn 20 c√¢u h·ªèi ng·∫´u nhi√™n chia ƒë·ªÅu 4 ph·∫ßn (5 c√¢u m·ªói lo·∫°i)
            generateLevelQuestions();
            currentQuestionIndex = 0;
            loadQuestion();
        }

        function generateLevelQuestions() {
            // L·ªçc c√¢u h·ªèi theo lo·∫°i
            const mcqs = questionBank.filter(q => q.type === 'mcq');
            const scrambles = questionBank.filter(q => q.type === 'scramble');
            const errors = questionBank.filter(q => q.type === 'error');
            const rewrites = questionBank.filter(q => q.type === 'rewrite');

            // H√†m shuffle v√† l·∫•y 5 c√¢u
            const getRandom = (arr, num) => {
                const shuffled = [...arr].sort(() => 0.5 - Math.random());
                return shuffled.slice(0, num);
            };

            // ƒê·∫£m b·∫£o ƒë·ªß c√¢u h·ªèi (n·∫øu kh√¥ng ƒë·ªß th√¨ l·∫•y h·∫øt nh·ªØng g√¨ c√≥)
            let selected = [
                ...getRandom(mcqs, 5),
                ...getRandom(scrambles, 5),
                ...getRandom(errors, 5),
                ...getRandom(rewrites, 5)
            ];

            // Tr·ªôn l·∫°i th·ª© t·ª± c√¢u h·ªèi trong m√†n ch∆°i
            currentQuestions = selected.sort(() => 0.5 - Math.random());
        }

        function updateTimerDisplay() {
            let m = Math.floor(timeLeft / 60);
            let s = timeLeft % 60;
            document.getElementById('time-display').innerText = `${m}:${s < 10 ? '0'+s : s}`;
        }

        function loadQuestion() {
            document.getElementById('q-num').innerText = currentQuestionIndex + 1;
            const q = currentQuestions[currentQuestionIndex];
            const typeTitle = document.getElementById('question-type-title');
            const qText = document.getElementById('question-text');
            const area = document.getElementById('interaction-area');
            const feedback = document.getElementById('feedback-msg');
            
            feedback.innerText = "";
            feedback.className = "feedback";
            area.innerHTML = "";

            // Render d·ª±a tr√™n lo·∫°i c√¢u h·ªèi
            if (q.type === 'mcq') {
                typeTitle.innerText = "MULTIPLE CHOICE (Ch·ªçn ƒë√°p √°n ƒë√∫ng)";
                qText.innerText = q.q;
                let grid = document.createElement('div');
                grid.className = 'options-grid';
                // Shuffle options
                let opts = [...q.options].sort(() => 0.5 - Math.random());
                opts.forEach(opt => {
                    let btn = document.createElement('div');
                    btn.className = 'option-card';
                    btn.innerText = opt;
                    btn.onclick = () => handleAnswer(opt, q.a);
                    grid.appendChild(btn);
                });
                area.appendChild(grid);

            } else if (q.type === 'rewrite') {
                typeTitle.innerText = "SENTENCE CORRECTION (Ch·ªçn c√¢u ƒë√∫ng)";
                qText.innerText = q.q;
                let grid = document.createElement('div');
                grid.className = 'options-grid';
                let opts = [...q.options].sort(() => 0.5 - Math.random());
                opts.forEach(opt => {
                    let btn = document.createElement('div');
                    btn.className = 'option-card';
                    btn.innerText = opt;
                    btn.onclick = () => handleAnswer(opt, q.a);
                    grid.appendChild(btn);
                });
                area.appendChild(grid);

            } else if (q.type === 'scramble') {
                typeTitle.innerText = "WORD SCRAMBLE (Gh√©p t·ª´ th√†nh c√¢u)";
                qText.innerText = "S·∫Øp x·∫øp c√°c t·ª´ sau:";
                
                // Logic gh√©p t·ª´
                let words = q.q.replace("Arrange: ", "").split(" / ");
                // Shuffle words
                words.sort(() => 0.5 - Math.random());

                let bank = document.createElement('div');
                bank.className = 'word-bank';
                let dropZone = document.createElement('div');
                dropZone.className = 'sentence-drop';
                dropZone.style.border = "2px dashed var(--secondary)";
                dropZone.style.minHeight = "60px";

                let currentSentence = [];

                words.forEach(w => {
                    let sp = document.createElement('span');
                    sp.className = 'draggable-word';
                    sp.innerText = w;
                    sp.onclick = function() {
                        // Move to drop zone
                        dropZone.appendChild(this);
                        currentSentence.push(w);
                        checkScramble();
                    };
                    bank.appendChild(sp);
                });

                // Reset button for scramble
                let resetBtn = document.createElement('button');
                resetBtn.className = 'btn btn-secondary';
                resetBtn.innerText = "Reset";
                resetBtn.style.fontSize = "0.8rem";
                resetBtn.onclick = () => loadQuestion(); // Reload l·∫°i c√¢u n√†y

                area.appendChild(dropZone);
                area.appendChild(bank);
                area.appendChild(resetBtn);

                function checkScramble() {
                    let constructed = Array.from(dropZone.children).map(c => c.innerText).join(" ");
                    if (dropZone.children.length === words.length) {
                        handleAnswer(constructed, q.a);
                    }
                }

            } else if (q.type === 'error') {
                typeTitle.innerText = "FIND ERROR (T√¨m l·ªói sai)";
                qText.innerHTML = q.full; // Hi·ªÉn th·ªã c√¢u ƒë·∫ßy ƒë·ªß nh∆∞ng user ph·∫£i ch·ªçn ph·∫ßn sai
                qText.style.fontStyle = "italic";
                
                let instruction = document.createElement('p');
                instruction.innerText = "Ch·ªçn ph·∫ßn b·ªã sai:";
                area.appendChild(instruction);

                let grid = document.createElement('div');
                grid.className = 'options-grid';
                q.parts.forEach(part => {
                    let btn = document.createElement('div');
                    btn.className = 'option-card';
                    btn.innerText = part;
                    btn.onclick = () => handleAnswer(part, q.a);
                    grid.appendChild(btn);
                });
                area.appendChild(grid);
            }
        }

        function handleAnswer(userAns, correctAns) {
            const feedback = document.getElementById('feedback-msg');
            
            // Normalize strings for comparison
            if (userAns.trim() === correctAns.trim()) {
                // ƒê√öNG
                feedback.innerText = "CH√çNH X√ÅC! +10 Points";
                feedback.classList.add("correct");
                score += 10;
                document.getElementById('score-display').innerText = score;
                
                // √Çm thanh ƒë√∫ng (n·∫øu c√≥ th·ªÉ th√™m)
                
                setTimeout(() => {
                    nextQuestion();
                }, 1000);
            } else {
                // SAI
                feedback.innerText = "SAI R·ªíI! ƒêang ƒë·ªïi c√¢u h·ªèi kh√°c...";
                feedback.classList.add("wrong");
                
                // Tr·ª´ th·ªùi gian ph·∫°t (tu·ª≥ ch·ªçn)
                timeLeft -= 10; 
                
                setTimeout(() => {
                    replaceQuestion();
                }, 1500);
            }
        }

        function replaceQuestion() {
            // Logic: L·∫•y 1 c√¢u kh√°c c√πng lo·∫°i t·ª´ ng√¢n h√†ng c√¢u h·ªèi thay th·∫ø v√†o v·ªã tr√≠ hi·ªán t·∫°i
            const currentType = currentQuestions[currentQuestionIndex].type;
            const pool = questionBank.filter(q => q.type === currentType);
            
            // Ch·ªçn ng·∫´u nhi√™n 1 c√¢u kh√°c c√¢u hi·ªán t·∫°i
            let newQ;
            let attempts = 0;
            do {
                newQ = pool[Math.floor(Math.random() * pool.length)];
                attempts++;
            } while (newQ === currentQuestions[currentQuestionIndex] && attempts < 10);

            currentQuestions[currentQuestionIndex] = newQ;
            loadQuestion();
        }

        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex >= currentQuestions.length) {
                levelComplete();
            } else {
                loadQuestion();
            }
        }

        function levelComplete() {
            clearInterval(timerInterval);
            switchScreen('result-screen');
            document.getElementById('final-score').innerText = score;
            
            // Ph·∫ßn th∆∞·ªüng
            let earnedGems = Math.floor(score / 5);
            gems += earnedGems;
            document.getElementById('final-gems').innerText = earnedGems;
            document.getElementById('gem-display').innerText = gems;

            let msg = document.getElementById('reward-msg');
            if (score >= 200) {
                msg.innerText = "Xu·∫•t s·∫Øc! B·∫°n nh·∫≠n ƒë∆∞·ª£c huy hi·ªáu 'Cyber Master'!";
            } else {
                msg.innerText = "L√†m t·ªët l·∫Øm! C·ªë g·∫Øng h∆°n ·ªü m√†n sau.";
            }
            
            saveScore();
        }

        function nextLevel() {
            currentLevel++;
            startLevel();
        }

        function resetGame() {
            switchScreen('login-screen');
        }

    </script>
</body>
</html>
